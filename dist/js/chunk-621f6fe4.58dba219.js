(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-621f6fe4"],{1329:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("问卷设置")])]),i("div",[t._v("\n      问卷起始时间设置\n      "),i("qDate",{staticClass:"qdate-input",attrs:{dateValue:t.dateValue}}),i("hr",{staticClass:"hr0"})],1),i("div",[t._v("\n      填写人数上限\n      "),i("num-limit",{staticClass:"num-limit",attrs:{num:t.qSettingJson.numLimit}})],1)]),i("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("Q"+t._s(t.question.index)+".题目设置")])]),i("div",[i("el-checkbox",{on:{change:t.changeCheckedValue},model:{value:t.qSettingJson.isRequired,callback:function(e){t.$set(t.qSettingJson,"isRequired",e)},expression:"qSettingJson.isRequired"}},[t._v("\n        此题是否必答？\n      ")]),i("hr",{staticClass:"hr0"})],1),"radio"==t.question.type?i("div",[t._v("\n      逻辑设置\n      "),i("el-tooltip",{attrs:{placement:"top",content:"根据答题者的选择，选择性地跳转到某些题目"}},[i("el-button",{attrs:{size:"mini",icon:"el-icon-share",circle:""},on:{click:t.openJumpLogicDialog}})],1),i("hr",{staticClass:"hr0"})],1):t._e(),"rate"==t.question.type||"scale"==t.question.type?i("div",[t._v("\n      最高分设置\n        "),i("el-select",{staticClass:"el-select-maxScore",attrs:{placeholder:"请选择"},on:{change:t.changeMaxScore},model:{value:t.qSettingJson.rateMax,callback:function(e){t.$set(t.qSettingJson,"rateMax",e)},expression:"qSettingJson.rateMax"}},t._l(this.rateMaxScoreOptions,function(t,e){return i("el-option",{attrs:{label:t+"",value:t}})}),1)],1):t._e()]),i("el-dialog",{attrs:{"modal-append-to-body":!1,title:"跳转逻辑设置",visible:t.dialogFormVisible,width:"65%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[0==t.questionList[t.qSettingJson.activeClass].jumpLogic.length?i("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(e){return t.addJumpLogic("addButton")}}},[t._v("\n      新增跳转逻辑\n      ")]):t._e(),0!==t.questionList[t.qSettingJson.activeClass].jumpLogic.length?i("el-form",{ref:"question",attrs:{model:t.questionList[t.qSettingJson.activeClass]}},t._l(t.questionList[t.qSettingJson.activeClass].jumpLogic,function(e,s){return i("el-form-item",{attrs:{label:"如果本题中选","label-width":"100px"}},[i("el-col",{attrs:{span:7}},[i("el-form-item",[i("el-select",{attrs:{placeholder:"请选择一个选项",clearable:"",filterable:""},model:{value:t.questionList[t.qSettingJson.activeClass].jumpLogic[s].startValue,callback:function(e){t.$set(t.questionList[t.qSettingJson.activeClass].jumpLogic[s],"startValue",e)},expression:"questionList[qSettingJson.activeClass].jumpLogic[jIndex].startValue"}},t._l(t.questionList[t.qSettingJson.activeClass].content.options,function(t,e){return i("el-option",{attrs:{label:e+1+"."+t,value:e}})}),1)],1)],1),i("el-col",{attrs:{span:4}},[t._v("则跳转到")]),i("el-col",{attrs:{span:7}},[i("el-form-item",[i("el-select",{attrs:{placeholder:"请选择一个题目",clearable:"",filterable:""},model:{value:t.questionList[t.qSettingJson.activeClass].jumpLogic[s].endValue,callback:function(e){t.$set(t.questionList[t.qSettingJson.activeClass].jumpLogic[s],"endValue",e)},expression:"questionList[qSettingJson.activeClass].jumpLogic[jIndex].endValue"}},t._l(t.subQLIST,function(t,e){return i("el-option",{attrs:{label:"Q"+t.index+":"+t.title,value:t.index}})}),1)],1)],1),i("el-col",{attrs:{span:4}},[i("el-button",{attrs:{icon:"el-icon-minus",size:"mini",circle:""},on:{click:function(e){return t.deleteJump(s)}}}),i("el-button",{attrs:{icon:"el-icon-plus",size:"mini",circle:""},on:{click:function(e){return t.addJumpLogic("addIcon")}}})],1)],1)}),1):t._e(),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.cancelJumpLogicDialog}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveJumpLogicDialog("question")}}},[t._v("保存")])],1)],1)],1)},n=[],a=i("96f8"),o=i.n(a),l=i("3f47"),c=i("52c1"),u={name:"question-setting-card",props:{qSettingJson:{type:Object}},data:function(){return{dialogFormVisible:!1,rateMaxScoreOptions:[2,3,4,5,6,7,8,9,10],rateMaxScore:""}},mounted:function(){},computed:Object(l["a"])({},Object(c["c"])("questionnaire",{num:"numLimit",beginTime:"beginTime",endTime:"endTime",questionList:"questionList",pageManage:"pageManage"}),{dateValue:function(){var t=[];return t[0]=this.beginTime,t[1]=this.endTime,t},question:function(){return-1!==this.qSettingJson.activeClass?this.questionList[this.qSettingJson.activeClass]:-1},subQLIST:function(){var t=[],e=0,i=0;for(var s in this.questionList)this.qSettingJson.activeClass==o()(s)&&(i=e),"pagination"!==this.questionList[s].type&&"description"!==this.questionList[s].type&&(t[e]=this.questionList[s],e++);return t.splice(0,i+1),t}}),methods:Object(l["a"])({},Object(c["d"])("questionnaire",{set_isRequired:"set_isRequired",set_jumpLogic:"set_jumpLogic",change_questionList_value:"change_questionList_value",set_pageManage:"set_pageManage"}),{changeCheckedValue:function(t){var e=this.qSettingJson.activeClass;this.set_isRequired({isRequired:t,qIndex:e})},openJumpLogicDialog:function(){this.dialogFormVisible=!0},cancelJumpLogicDialog:function(){this.dialogFormVisible=!1},saveJumpLogicDialog:function(){for(var t in this.question.jumpLogic)if(""===this.questionList[this.qSettingJson.activeClass].jumpLogic[t].startValue||""===this.questionList[this.qSettingJson.activeClass].jumpLogic[t].endValue)this.$message({message:"跳转逻辑不能为空",type:"error"}),this.dialogFormVisible=!0;else{var e=this.questionList[this.qSettingJson.activeClass].jumpLogic,i=this.qSettingJson.activeClass;this.set_jumpLogic({qIndex:i,jumpLogic:e}),this.dialogFormVisible=!1,this.$message({message:"跳转逻辑设置成功！",type:"success"})}},deleteJump:function(t){var e=this.questionList[this.qSettingJson.activeClass].jumpLogic;e.splice(t,1);var i=this.qSettingJson.activeClass;this.set_pageManage({type:"iconMinusIsClick",boolean:!0}),this.set_jumpLogic({qIndex:i,jumpLogic:e})},addJumpLogic:function(t){"addButton"==t&&this.set_pageManage({type:"addJumpLogicIsClick",boolean:!0});var e=this.questionList[this.qSettingJson.activeClass].jumpLogic;e.push({startValue:"",endValue:""});var i=this.qSettingJson.activeClass;this.set_jumpLogic({qIndex:i,jumpLogic:e})},changeMaxScore:function(t){var e={type:"max"};e["QIndex"]=this.qSettingJson.activeClass,e["maxScore"]=t,this.change_questionList_value(e)}}),components:{qDate:function(){return i.e("chunk-984fef46").then(i.bind(null,"55ba"))},"num-limit":function(){return i.e("chunk-42731e8e").then(i.bind(null,"9819"))}}},r=u,g=(i("a6e8"),i("17cc")),d=Object(g["a"])(r,s,n,!1,null,"4c451456",null);e["default"]=d.exports},"385f":function(t,e,i){},a6e8:function(t,e,i){"use strict";var s=i("385f"),n=i.n(s);n.a}}]);
//# sourceMappingURL=chunk-621f6fe4.58dba219.js.map