{"version":3,"sources":["webpack:///./src/components/question/QuestionSetting.vue?417f","webpack:///src/components/question/QuestionSetting.vue","webpack:///./src/components/question/QuestionSetting.vue?1d0a","webpack:///./src/components/question/QuestionSetting.vue","webpack:///./src/components/question/QuestionSetting.vue?959c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","shadow","slot","_v","dateValue","num","qSettingJson","numLimit","_s","question","index","on","change","changeCheckedValue","model","value","callback","$$v","$set","expression","type","placement","content","size","icon","circle","click","openJumpLogicDialog","_e","placeholder","changeMaxScore","_l","item","itemIndex","label","modal-append-to-body","title","visible","dialogFormVisible","width","update:visible","$event","questionList","activeClass","jumpLogic","length","addJumpLogic","ref","jumpLogicObj","jIndex","label-width","span","clearable","filterable","q","qIndex","deleteJump","cancelJumpLogicDialog","saveJumpLogicDialog","staticRenderFns","QuestionSettingvue_type_script_lang_js_","name","props","Object","data","rateMaxScoreOptions","rateMaxScore","mounted","computed","objectSpread","vuex_esm","beginTime","endTime","pageManage","arr","subQLIST","qList","indexCount","cutPoint","i","parse_int_default","splice","methods","set_isRequired","set_jumpLogic","change_questionList_value","set_pageManage","newValue","isRequired","startValue","endValue","$message","message","boolean","string","push","obj","components","qDate","__webpack_require__","e","then","bind","num-limit","question_QuestionSettingvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_QuestionSetting_vue_vue_type_style_index_0_id_4c451456_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_QuestionSetting_vue_vue_type_style_index_0_id_4c451456_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-621f6fe4.1075c521.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{staticClass:\"box-card\",attrs:{\"shadow\":\"hover\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"问卷设置\")])]),_c('div',[_vm._v(\"\\n      问卷起始时间设置\\n      \"),_c('qDate',{staticClass:\"qdate-input\",attrs:{\"dateValue\":_vm.dateValue}}),_c('hr',{staticClass:\"hr0\"})],1),_c('div',[_vm._v(\"\\n      填写人数上限\\n      \"),_c('num-limit',{staticClass:\"num-limit\",attrs:{\"num\":_vm.qSettingJson.numLimit}})],1)]),_c('el-card',{staticClass:\"box-card\",attrs:{\"shadow\":\"hover\"}},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"Q\"+_vm._s(_vm.question.index)+\".题目设置\")])]),_c('div',[_c('el-checkbox',{on:{\"change\":_vm.changeCheckedValue},model:{value:(_vm.qSettingJson.isRequired),callback:function ($$v) {_vm.$set(_vm.qSettingJson, \"isRequired\", $$v)},expression:\"qSettingJson.isRequired\"}},[_vm._v(\"\\n        此题是否必答？\\n      \")]),_c('hr',{staticClass:\"hr0\"})],1),(_vm.question.type == 'radio')?_c('div',[_vm._v(\"\\n      逻辑设置\\n      \"),_c('el-tooltip',{attrs:{\"placement\":\"top\",\"content\":\"根据答题者的选择，选择性地跳转到某些题目\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"el-icon-share\",\"circle\":\"\"},on:{\"click\":_vm.openJumpLogicDialog}})],1),_c('hr',{staticClass:\"hr0\"})],1):_vm._e(),(_vm.question.type == 'rate' || _vm.question.type == 'scale')?_c('div',[_vm._v(\"\\n      最高分设置\\n        \"),_c('el-select',{staticClass:\"el-select-maxScore\",attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.changeMaxScore},model:{value:(_vm.qSettingJson.rateMax),callback:function ($$v) {_vm.$set(_vm.qSettingJson, \"rateMax\", $$v)},expression:\"qSettingJson.rateMax\"}},_vm._l((this.rateMaxScoreOptions),function(item,itemIndex){return _c('el-option',{attrs:{\"label\":item+'',\"value\":item}})}),1)],1):_vm._e()]),_c('el-dialog',{attrs:{\"modal-append-to-body\":false,\"title\":\"跳转逻辑设置\",\"visible\":_vm.dialogFormVisible,\"width\":\"65%\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[(_vm.questionList[_vm.qSettingJson.activeClass].jumpLogic.length == 0)?_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":function($event){return _vm.addJumpLogic('addButton')}}},[_vm._v(\"\\n      新增跳转逻辑\\n      \")]):_vm._e(),(_vm.questionList[_vm.qSettingJson.activeClass].jumpLogic.length !== 0)?_c('el-form',{ref:\"question\",attrs:{\"model\":_vm.questionList[_vm.qSettingJson.activeClass]}},_vm._l((_vm.questionList[_vm.qSettingJson.activeClass].jumpLogic),function(jumpLogicObj,jIndex){return _c('el-form-item',{attrs:{\"label\":\"如果本题中选\",\"label-width\":\"100px\"}},[_c('el-col',{attrs:{\"span\":7}},[_c('el-form-item',[_c('el-select',{attrs:{\"placeholder\":\"请选择一个选项\",\"clearable\":\"\",\"filterable\":\"\"},model:{value:(_vm.questionList[_vm.qSettingJson.activeClass].jumpLogic[jIndex].startValue),callback:function ($$v) {_vm.$set(_vm.questionList[_vm.qSettingJson.activeClass].jumpLogic[jIndex], \"startValue\", $$v)},expression:\"questionList[qSettingJson.activeClass].jumpLogic[jIndex].startValue\"}},_vm._l((_vm.questionList[_vm.qSettingJson.activeClass].content.options),function(item,index){return _c('el-option',{attrs:{\"label\":(index + 1)+ '.' + item,\"value\":index}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":4}},[_vm._v(\"则跳转到\")]),_c('el-col',{attrs:{\"span\":7}},[_c('el-form-item',[_c('el-select',{attrs:{\"placeholder\":\"请选择一个题目\",\"clearable\":\"\",\"filterable\":\"\"},model:{value:(_vm.questionList[_vm.qSettingJson.activeClass].jumpLogic[jIndex].endValue),callback:function ($$v) {_vm.$set(_vm.questionList[_vm.qSettingJson.activeClass].jumpLogic[jIndex], \"endValue\", $$v)},expression:\"questionList[qSettingJson.activeClass].jumpLogic[jIndex].endValue\"}},_vm._l((_vm.subQLIST),function(q,qIndex){return _c('el-option',{attrs:{\"label\":'Q' + q.index + ':' + q.title,\"value\":q.index}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"icon\":\"el-icon-minus\",\"size\":\"mini\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.deleteJump(jIndex)}}}),_c('el-button',{attrs:{\"icon\":\"el-icon-plus\",\"size\":\"mini\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.addJumpLogic('addIcon')}}})],1)],1)}),1):_vm._e(),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancelJumpLogicDialog}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.saveJumpLogicDialog('question')}}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-card class=\"box-card\" shadow=\"hover\">\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <span>问卷设置</span>\r\n      </div>\r\n      <div>\r\n        问卷起始时间设置\r\n        <qDate :dateValue=\"dateValue\" class=\"qdate-input\"></qDate>\r\n        <hr class=\"hr0\">\r\n      </div>\r\n      <div>\r\n        填写人数上限\r\n        <num-limit :num=\"qSettingJson.numLimit\" class=\"num-limit\"></num-limit>\r\n      </div>\r\n    </el-card>\r\n\r\n    <el-card class=\"box-card\" shadow=\"hover\">\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <span>Q{{question.index}}.题目设置</span>\r\n      </div>\r\n      <div>\r\n        <el-checkbox \r\n          v-model=\"qSettingJson.isRequired\" \r\n          @change=\"changeCheckedValue\"\r\n          >\r\n          此题是否必答？\r\n        </el-checkbox>\r\n        <hr class=\"hr0\">\r\n      </div>\r\n      \r\n      <div v-if=\"question.type == 'radio'\">\r\n        逻辑设置\r\n        <el-tooltip \r\n          placement=\"top\" \r\n          content=\"根据答题者的选择，选择性地跳转到某些题目\"\r\n          >\r\n          <el-button\r\n            size=\"mini\"\r\n            icon=\"el-icon-share\"\r\n            @click=\"openJumpLogicDialog\"\r\n            circle>\r\n            </el-button>\r\n        </el-tooltip>\r\n        <hr class=\"hr0\">\r\n      </div>\r\n\r\n      <div v-if=\"question.type == 'rate' || question.type == 'scale'\">\r\n        最高分设置\r\n          <el-select \r\n            v-model=\"qSettingJson.rateMax\" \r\n            placeholder=\"请选择\"\r\n            class=\"el-select-maxScore\"\r\n            @change=\"changeMaxScore\"\r\n            >\r\n            <el-option\r\n              v-for=\"(item,itemIndex) in this.rateMaxScoreOptions\"\r\n              :label=\"item+''\"\r\n              :value=\"item\">\r\n            </el-option>\r\n          </el-select>\r\n      </div>\r\n\r\n    </el-card>\r\n    \r\n    <!-- 跳转逻辑对话框 -->\r\n    <el-dialog \r\n      :modal-append-to-body=\"false\"\r\n      title=\"跳转逻辑设置\" \r\n      :visible.sync=\"dialogFormVisible\" \r\n      width=\"65%\">\r\n      <el-button\r\n        v-if=\"questionList[qSettingJson.activeClass].jumpLogic.length == 0\"\r\n        type=\"primary\" \r\n        icon=\"el-icon-circle-plus-outline\"\r\n        @click=\"addJumpLogic('addButton')\">\r\n        新增跳转逻辑\r\n        </el-button>\r\n\r\n      <el-form :model=\"questionList[qSettingJson.activeClass]\" ref=\"question\" v-if=\"questionList[qSettingJson.activeClass].jumpLogic.length !== 0\">\r\n        <el-form-item \r\n          v-for=\"(jumpLogicObj, jIndex) in questionList[qSettingJson.activeClass].jumpLogic\"\r\n          label=\"如果本题中选\" label-width=\"100px\">\r\n\r\n          <el-col :span=\"7\">\r\n            <el-form-item>\r\n              <el-select \r\n                v-model=\"questionList[qSettingJson.activeClass].jumpLogic[jIndex].startValue\" \r\n                placeholder=\"请选择一个选项\" \r\n                clearable filterable>\r\n                <el-option\r\n                  v-for=\"(item, index) in questionList[qSettingJson.activeClass].content.options\"\r\n                  :label=\"(index + 1)+ '.' + item\"\r\n                  :value=\"index\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-col>\r\n\r\n          <el-col :span=\"4\">则跳转到</el-col>\r\n\r\n          <el-col :span=\"7\">\r\n            <el-form-item>\r\n              <el-select \r\n                v-model=\"questionList[qSettingJson.activeClass].jumpLogic[jIndex].endValue\" \r\n                placeholder=\"请选择一个题目\"\r\n                clearable filterable>\r\n                <el-option\r\n                  v-for=\"(q, qIndex) in subQLIST\"\r\n                  :label=\"'Q' + q.index + ':' + q.title\"\r\n                  :value=\"q.index\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>    \r\n          </el-col>\r\n\r\n          <el-col :span=\"4\">\r\n            <el-button icon=\"el-icon-minus\" size=\"mini\" @click=\"deleteJump(jIndex)\" circle></el-button>\r\n            <el-button icon=\"el-icon-plus\" size=\"mini\" @click=\"addJumpLogic('addIcon')\" circle></el-button>\r\n          </el-col>\r\n\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"cancelJumpLogicDialog\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"saveJumpLogicDialog('question')\">保存</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {mapGetters, mapMutations} from \"vuex\";\r\nexport default {\r\n  name: \"question-setting-card\",\r\n  props: {\r\n    qSettingJson: {\r\n      type: Object,\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      dialogFormVisible: false,\r\n      rateMaxScoreOptions: [2,3,4,5,6,7,8,9,10],\r\n      // rateMaxScoreOptions: [\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\"]\r\n      rateMaxScore: ''\r\n    }\r\n  },\r\n  mounted(){},\r\n  computed: {\r\n    ...mapGetters(\"questionnaire\", {\r\n      num: \"numLimit\",\r\n      beginTime: \"beginTime\",\r\n      endTime: \"endTime\",\r\n      questionList: \"questionList\",\r\n      pageManage: \"pageManage\"\r\n    }),\r\n    dateValue() {\r\n      let arr = [];\r\n      arr[0] = this.beginTime;\r\n      arr[1] = this.endTime;\r\n      return arr;\r\n    },\r\n    question() {\r\n      if (this.qSettingJson.activeClass !== -1) {\r\n        return this.questionList[this.qSettingJson.activeClass]\r\n      } else {\r\n        return -1;\r\n      }\r\n    },\r\n    subQLIST: function() {\r\n      let qList = [];\r\n      let indexCount = 0;\r\n      let cutPoint = 0;\r\n      for (let i in this.questionList) {\r\n        // 记录当前题的下标\r\n        if (this.qSettingJson.activeClass == parseInt(i)) {\r\n          cutPoint = indexCount;\r\n        }\r\n        // 除去所有的分页和备注obj，得到包含所有题目的qList\r\n        if (this.questionList[i].type !== \"pagination\" && this.questionList[i].type !== \"description\") {\r\n          qList[indexCount] = this.questionList[i];\r\n          indexCount++;\r\n        }\r\n      }\r\n      // 删掉包含本题的之前所有题\r\n      qList.splice(0,cutPoint+1);\r\n      return qList;       \r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"questionnaire\", {\r\n      set_isRequired: \"set_isRequired\",\r\n      set_jumpLogic: \"set_jumpLogic\",\r\n      change_questionList_value: \"change_questionList_value\",\r\n      set_pageManage: \"set_pageManage\"\r\n    }),\r\n    // 是否必答选中状态改变\r\n    changeCheckedValue(newValue) {\r\n      let qIndex = this.qSettingJson.activeClass;\r\n      this.set_isRequired({\"isRequired\": newValue, \"qIndex\": qIndex});\r\n    },\r\n    openJumpLogicDialog() {\r\n      this.dialogFormVisible = true;\r\n    },\r\n    cancelJumpLogicDialog() {\r\n      // this.$alert('检测到未保存的内容，是否在离开窗口前保存修改？', '提示', {\r\n      //     confirmButtonText: '确定',\r\n      //     cancelButtonText: '取消',\r\n      //   });\r\n      this.dialogFormVisible = false;\r\n    },\r\n    saveJumpLogicDialog() {\r\n      for (let i in this.question.jumpLogic) {\r\n        if (this.questionList[this.qSettingJson.activeClass].jumpLogic[i].startValue === \"\" \r\n          || this.questionList[this.qSettingJson.activeClass].jumpLogic[i].endValue === \"\") {\r\n          this.$message({\r\n            message: '跳转逻辑不能为空',\r\n            type: 'error'\r\n          });\r\n          this.dialogFormVisible = true;\r\n        } else {\r\n          let jumpLogic = this.questionList[this.qSettingJson.activeClass].jumpLogic;\r\n          let qIndex = this.qSettingJson.activeClass;\r\n          this.set_jumpLogic({qIndex: qIndex, jumpLogic: jumpLogic});\r\n          this.dialogFormVisible = false;\r\n          this.$message({\r\n            message: '跳转逻辑设置成功！',\r\n            type: 'success'\r\n          });\r\n        }\r\n      }\r\n    },\r\n    // 删除跳转逻辑\r\n    deleteJump(jIndex) {\r\n      let jumpLogic = this.questionList[this.qSettingJson.activeClass].jumpLogic;\r\n      jumpLogic.splice(jIndex,1);\r\n      let qIndex = this.qSettingJson.activeClass;\r\n      this.set_pageManage({type: \"iconMinusIsClick\", boolean: true})\r\n      this.set_jumpLogic({qIndex: qIndex, jumpLogic: jumpLogic});\r\n    },\r\n    // 增加跳转逻辑\r\n    addJumpLogic(string) {\r\n      if ( string == \"addButton\" ) {\r\n        this.set_pageManage({type: \"addJumpLogicIsClick\", boolean: true});\r\n      } else {\r\n        // nothing to do so far\r\n      }\r\n      let jumpLogic = this.questionList[this.qSettingJson.activeClass].jumpLogic;\r\n      jumpLogic.push({startValue: \"\", endValue: \"\"});\r\n      let qIndex = this.qSettingJson.activeClass;\r\n      this.set_jumpLogic({qIndex: qIndex, jumpLogic: jumpLogic});\r\n\r\n    },\r\n    changeMaxScore(newValue) {\r\n      let obj = {}\r\n      // console.log(\"changeMaxScore\");\r\n      // console.log(newValue);\r\n      obj[\"type\"] = \"max\";\r\n      obj[\"QIndex\"] = this.qSettingJson.activeClass;\r\n      obj[\"maxScore\"] = newValue;\r\n      // console.log(obj);\r\n      this.change_questionList_value(obj);\r\n    }\r\n  },\r\n  components:{\r\n    \"qDate\": () => import(\"@/components/question/QuestionDate.vue\"),\r\n    \"num-limit\": () => import(\"@/components/question/QuestionCounter.vue\"),\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .text {\r\n    font-size: 14px;\r\n  }\r\n\r\n  .item {\r\n    margin-bottom: 18px;\r\n  }\r\n\r\n  .clearfix:before,\r\n  .clearfix:after {\r\n    display: table;\r\n    content: \"\";\r\n  }\r\n  .clearfix:after {\r\n    clear: both\r\n  }\r\n\r\n  .box-card {\r\n    width: 22em;\r\n    text-align: left;\r\n    float:right;\r\n  }\r\n  .hr0{ \r\n    height:0px;\r\n    border:none;\r\n    border-top:1px solid rgba(184, 189, 188, 0.5);\r\n    margin-top: 1em;\r\n    margin-bottom: 1em;\r\n  }  \r\n  .qdate-input {\r\n    width: 320px;\r\n  }\r\n\r\n  .el-select-maxScore {\r\n\r\n  }\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./QuestionSetting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./QuestionSetting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QuestionSetting.vue?vue&type=template&id=4c451456&scoped=true&\"\nimport script from \"./QuestionSetting.vue?vue&type=script&lang=js&\"\nexport * from \"./QuestionSetting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./QuestionSetting.vue?vue&type=style&index=0&id=4c451456&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c451456\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./QuestionSetting.vue?vue&type=style&index=0&id=4c451456&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./QuestionSetting.vue?vue&type=style&index=0&id=4c451456&lang=scss&scoped=true&\""],"sourceRoot":""}