(function(t){function e(e){for(var a,s,o=e[0],u=e[1],l=e[2],c=0,d=[];c<o.length;c++)s=o[c],i[s]&&d.push(i[s][0]),i[s]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);m&&m(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,s=1;s<n.length;s++){var o=n[s];0!==i[o]&&(a=!1)}a&&(r.splice(e--,1),t=u(u.s=n[0]))}return t}var a={},s={app:0},i={app:0},r=[];function o(t){return u.p+"js/"+({about:"about"}[t]||t)+"."+{about:"01c8811c","chunk-110e91d0":"420e3232","chunk-20d15fd2":"fda148cd","chunk-22de1888":"dae8c2a9","chunk-253ad442":"8d45fab2","chunk-28191d1c":"5be5f65a","chunk-2d0a3ffd":"7b408fe5","chunk-2d0b6138":"96404925","chunk-2d0c0666":"f189ae10","chunk-2d21abe1":"a5ff50d4","chunk-2d237731":"d70c56f7","chunk-2e7baada":"860a3aba","chunk-2e99d8f0":"546858b8","chunk-4627a637":"147b8276","chunk-4da486d0":"99048fbc","chunk-56a9ad8b":"52300545","chunk-60127578":"f564e885","chunk-621f6fe4":"1075c521","chunk-75f5ac35":"f26e9673","chunk-7d2825de":"c6bb92ae","chunk-86e7edea":"104bed23","chunk-d5fe847e":"aeb59b41","chunk-02210a41":"7a6cab19","chunk-219d0abb":"47014b5a","chunk-400831c0":"3c243e65","chunk-a63dc41e":"c64c123e","chunk-42731e8e":"9caa6602","chunk-984fef46":"ddbb3027"}[t]+".js"}function u(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n={about:1,"chunk-110e91d0":1,"chunk-20d15fd2":1,"chunk-22de1888":1,"chunk-28191d1c":1,"chunk-2e7baada":1,"chunk-2e99d8f0":1,"chunk-4627a637":1,"chunk-4da486d0":1,"chunk-56a9ad8b":1,"chunk-60127578":1,"chunk-621f6fe4":1,"chunk-75f5ac35":1,"chunk-7d2825de":1,"chunk-86e7edea":1,"chunk-d5fe847e":1,"chunk-02210a41":1,"chunk-219d0abb":1,"chunk-400831c0":1,"chunk-a63dc41e":1,"chunk-984fef46":1};s[t]?e.push(s[t]):0!==s[t]&&n[t]&&e.push(s[t]=new Promise(function(e,n){for(var a="css/"+({about:"about"}[t]||t)+"."+{about:"ff74da5e","chunk-110e91d0":"95e79fd6","chunk-20d15fd2":"14009082","chunk-22de1888":"0e433876","chunk-253ad442":"31d6cfe0","chunk-28191d1c":"f50a2252","chunk-2d0a3ffd":"31d6cfe0","chunk-2d0b6138":"31d6cfe0","chunk-2d0c0666":"31d6cfe0","chunk-2d21abe1":"31d6cfe0","chunk-2d237731":"31d6cfe0","chunk-2e7baada":"79917db7","chunk-2e99d8f0":"0e433876","chunk-4627a637":"81907626","chunk-4da486d0":"58165a13","chunk-56a9ad8b":"da27ed38","chunk-60127578":"d7dc4082","chunk-621f6fe4":"d5e50662","chunk-75f5ac35":"6c670b6b","chunk-7d2825de":"790df4b9","chunk-86e7edea":"ee306ee9","chunk-d5fe847e":"38a2d071","chunk-02210a41":"ddd8f89f","chunk-219d0abb":"3d297a73","chunk-400831c0":"da27ed38","chunk-a63dc41e":"05b4c817","chunk-42731e8e":"31d6cfe0","chunk-984fef46":"64fb92de"}[t]+".css",i=u.p+a,r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var l=r[o],c=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(c===a||c===i))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],c=l.getAttribute("data-href");if(c===a||c===i)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var a=e&&e.target&&e.target.src||i,r=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete s[t],m.parentNode.removeChild(m),n(r)},m.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(m)}).then(function(){s[t]=0}));var a=i[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise(function(e,n){a=i[t]=[e,n]});e.push(a[2]=r);var l,c=document.createElement("script");c.charset="utf-8",c.timeout=120,u.nc&&c.setAttribute("nonce",u.nc),c.src=o(t),l=function(e){c.onerror=c.onload=null,clearTimeout(d);var n=i[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+a+": "+s+")");r.type=a,r.request=s,n[1](r)}i[t]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:c})},12e4);c.onerror=c.onload=l,document.head.appendChild(c)}return Promise.all(e)},u.m=t,u.c=a,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)u.d(n,a,function(e){return t[e]}.bind(null,a));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/",u.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var m=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("9e74"),s=n.n(a);s.a},"0974":function(t,e,n){},"09dd":function(t,e,n){},"163e":function(t,e,n){"use strict";var a=n("490d"),s=n.n(a);s.a},"19a2":function(t,e,n){},"1c77":function(t,e,n){"use strict";var a=n("6713"),s=n.n(a);s.a},"21b8":function(t,e,n){},"2f83":function(t,e,n){},3454:function(t,e,n){},"346f":function(t,e,n){"use strict";var a=n("8946"),s=n.n(a);s.a},"41ce":function(t,e,n){},4480:function(t,e,n){"use strict";var a=n("e695"),s=n.n(a);s.a},"490d":function(t,e,n){},"4b47":function(t,e,n){},"4d35":function(t,e,n){"use strict";var a=n("788c"),s=n.n(a);s.a},5013:function(t,e,n){"use strict";var a=n("da3d"),s=n.n(a);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("5c07"),n("53da"),n("2556"),n("d0f8");var a,s=n("6e6d"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],o={name:"app"},u=o,l=(n("034f"),n("17cc")),c=Object(l["a"])(u,i,r,!1,null,null,null),d=c.exports,m=n("1e6f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"sign"}},[a("div",{staticClass:"logo"},[a("router-link",{attrs:{to:{name:"about"}}},[a("img",{attrs:{alt:"Vue logo",src:n("cf05")}})])],1),a("el-card",{staticClass:"sign-card"},[t.hasAccount?[a("sign-in"),a("div",[a("br"),a("p",[t._v("忘记密码？\n        "),a("router-link",{staticClass:"sign-container-switch",attrs:{to:{name:"findPwd"},tag:"span"}},[t._v("找回密码")])],1),a("p",[t._v("\n        没有账号？"),a("span",{staticClass:"sign-container-switch",on:{click:function(e){t.hasAccount=!1}}},[t._v("注册")])])])]:[a("sign-up"),a("div",[a("br"),a("br"),a("p",[t._v("\n        已有账号？"),a("span",{staticClass:"sign-container-switch",on:{click:function(e){t.hasAccount=!0}}},[t._v("登录")])])])]],2)],1)},f=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sign-component",attrs:{id:"sign-in"}},[n("el-form",{ref:"signInForm",staticClass:"signInForm",attrs:{"status-icon":"",model:t.signInForm,rules:t.rules}},[n("el-form-item",{attrs:{label:"账号名",prop:"username"}},[n("el-input",{model:{value:t.signInForm.username,callback:function(e){t.$set(t.signInForm,"username",e)},expression:"signInForm.username"}})],1),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{type:"password"},model:{value:t.signInForm.password,callback:function(e){t.$set(t.signInForm,"password",e)},expression:"signInForm.password"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("signInForm")}}},[t._v("登录")])],1)],1)],1)},v=[],g=n("6e87"),b={name:"SignIn",data:function(){return{signInForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;axios.post("/auth/login",{username:this.signInForm.username,password:this.signInForm.password}).then(function(t){console.log(t.data),e.$message.success("登录成功!");var n=t.data;e.$store.commit(g["y"],n),e.$router.push({name:"user"})}).catch(function(t){t&&e.$message.error("登录失败，请重新输入账号和密码!")})}}},_=b,y=(n("cbea"),Object(l["a"])(_,h,v,!1,null,null,null)),x=y.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sign-component",attrs:{id:"sign-up"}},[n("el-form",{ref:"signUpForm",staticClass:"signUpForm",attrs:{"status-icon":"",model:t.signUpForm,rules:t.rules}},[n("el-form-item",{attrs:{label:"用户名",prop:"name"}},[n("el-input",{model:{value:t.signUpForm.name,callback:function(e){t.$set(t.signUpForm,"name",e)},expression:"signUpForm.name"}})],1),n("el-form-item",{attrs:{label:"账号名",prop:"username"}},[n("el-input",{model:{value:t.signUpForm.username,callback:function(e){t.$set(t.signUpForm,"username",e)},expression:"signUpForm.username"}})],1),n("el-form-item",{attrs:{label:"电子邮件地址",type:"email",prop:"email"}},[n("el-input",{model:{value:t.signUpForm.email,callback:function(e){t.$set(t.signUpForm,"email",e)},expression:"signUpForm.email"}})],1),n("el-form-item",{attrs:{label:"密码",prop:"pass"}},[n("el-input",{attrs:{type:"password"},model:{value:t.signUpForm.pass,callback:function(e){t.$set(t.signUpForm,"pass",e)},expression:"signUpForm.pass"}})],1),n("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[n("el-input",{attrs:{type:"password"},model:{value:t.signUpForm.checkPass,callback:function(e){t.$set(t.signUpForm,"checkPass",e)},expression:"signUpForm.checkPass"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("signUpForm")}}},[t._v("注册")])],1)],1)],1)},k=[],w=(n("3a23"),{name:"SignUp",data:function(){var t=this,e=function(t,e,n){if(""===e)n(new Error("电子邮件地址不能为空"));else{var a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;a.test(e)?n():n(new Error("电子邮件格式错误"))}},n=function(e,n,a){if(""===n)a(new Error("请输入密码"));else{var s=/^(?![A-Z]+$)(?![a-z]+$)(?!\d+$)(?![\W_]+$)\S{6,32}$/;s.test(n)?""!==t.signUpForm.checkPass&&t.$refs.signUpForm.validateField("checkPass"):a(new Error("密码不能为纯数学或纯字母")),a()}},a=function(e,n,a){""===n?a(new Error("请再输入密码")):n!==t.signUpForm.pass?a(new Error("两次输入密码不一致")):a()};return{signUpForm:{username:"",name:"",email:"",pass:"",checkPass:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:"change"}],username:[{required:!0,message:"请输入账号名",trigger:"change"},{min:4,max:16,message:"用户名长度需为3-16个字符",trigger:"blur"}],email:[{required:!0,validator:e,trigger:"change"}],pass:[{min:6,max:32,message:"密码长度需为6-32个字符",trigger:"blur"},{required:!0,validator:n,trigger:"change"}],checkPass:[{required:!0,validator:a,trigger:"change"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!"),!1;axios.post("/auth/register",{username:e.signUpForm.username,name:e.signUpForm.name,email:e.signUpForm.email,password:e.signUpForm.pass}).then(function(t){console.log(t),e.$message.success("注册成功，请前往登录!")}).catch(function(t){t&&e.$message.error("注册失败，请修改账号名或Email之后重新注册")})})}}}),C=w,L=(n("a4f0"),Object(l["a"])(C,q,k,!1,null,null,null)),Q=L.exports,$={name:"Sign",data:function(){return{hasAccount:!0}},components:{"sign-in":x,"sign-up":Q}},O=$,j=(n("d024"),Object(l["a"])(O,p,f,!1,null,null,null)),I=j.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"user"}},[n("el-container",[n("el-header",{staticClass:"header"},[n("el-row",[n("el-col",{attrs:{span:20}},[n("el-menu",{staticClass:"header-nav-left",attrs:{"default-active":t.routeName,mode:"horizontal","background-color":t.headerNav.bgColor,"text-color":t.headerNav.textColor,"active-text-color":t.headerNav.textColorActive}},[n("el-menu-item",{attrs:{index:"user.manage"}},[n("router-link",{attrs:{to:{name:"user.manage"},tag:"div"}},[t._v("问卷管理")])],1),n("el-menu-item",{attrs:{index:"user.info"}},[n("router-link",{attrs:{to:{name:"user.info"},tag:"div"}},[t._v("个人信息")])],1)],1)],1),n("el-col",{attrs:{span:4}},[n("div",{staticClass:"header-nav-right"},[n("span",{staticClass:"username"},[t._v(t._s(t.username))]),n("el-dropdown",{staticClass:"avator-dropdown"},[n("el-button",{attrs:{type:"text"}},[n("img",{staticClass:"user-logo",attrs:{src:t.userLogo}})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("router-link",{attrs:{to:{name:"user.info"},tag:"span"}},[t._v("我的个人信息")])],1),n("el-dropdown-item",{attrs:{divided:""}},[n("span",{on:{click:t.signout}},[t._v("退出登录")])])],1)],1)],1)])],1)],1),n("el-main",{staticClass:"main-content"},[n("router-view",{staticClass:"main-content-view"})],1)],1)],1)},E=[],S={name:"User",data:function(){return{username:this.$store.state.user.name,userLogo:n("d64e"),headerNav:{bgColor:"#545C64",textColor:"#C0C4CC",textColorActive:"#76d7c4"}}},computed:{routeName:function(){return this.$route.name}},methods:{signout:function(){this.$store.commit(g["z"]),this.$router.push({name:"sign"})}}},F=S,U=(n("4d35"),Object(l["a"])(F,P,E,!1,null,"4c7e46b2",null)),T=U.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"find-pwd"}},[n("el-card",{staticClass:"find-pwd-form"},[n("find-pwd-form")],1)],1)},N=[],R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"find-pwd-form"}},[n("p",[t._v("输入您的账户名和邮箱，以找回账号。")]),n("el-form",{ref:"findPwdForm",staticClass:"find-pwd-form",attrs:{"status-icon":"",model:t.findPwdForm,rules:t.rules}},[n("el-form-item",{attrs:{label:"账号名",prop:"name"}},[n("el-input",{model:{value:t.findPwdForm.name,callback:function(e){t.$set(t.findPwdForm,"name",e)},expression:"findPwdForm.name"}})],1),n("el-form-item",{attrs:{label:"电子邮件地址",type:"email",prop:"email"}},[n("el-input",{model:{value:t.findPwdForm.email,callback:function(e){t.$set(t.findPwdForm,"email",e)},expression:"findPwdForm.email"}})],1),n("el-form-item",{attrs:{label:"新密码",type:"password",prop:"newPassword"}},[n("el-input",{attrs:{type:"password"},model:{value:t.findPwdForm.newPassword,callback:function(e){t.$set(t.findPwdForm,"newPassword",e)},expression:"findPwdForm.newPassword"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("findPwdForm")}}},[t._v("提交")])],1)],1),n("p",[t._v("返回登录？ "),n("router-link",{staticClass:"sign-container-switch",attrs:{to:{name:"sign"},tag:"span"}},[t._v("登录")])],1)],1)},M=[],V={name:"FindPwdForm",data:function(){var t=this,e=function(e,n,a){if(""===n)a(new Error("请输入密码"));else{var s=/^(?![A-Z]+$)(?![a-z]+$)(?!\d+$)(?![\W_]+$)\S{6,32}$/;s.test(n)?""!==t.findPwdForm.newPassword&&t.$refs.findPwdForm.validateField("checkPass"):a(new Error("密码不能为纯数学或纯字母")),a()}},n=function(t,e,n){if(""===e)n(new Error("电子邮件地址不能为空"));else{var a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;a.test(e)?n():n(new Error("电子邮件格式错误"))}};return{findPwdForm:{name:"",email:"",newPassword:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:"change"}],email:[{required:!0,validator:n,trigger:"change"}],newPassword:[{min:6,max:32,message:"密码长度需为6-32个字符",trigger:"blur"},{required:!0,validator:e,trigger:"change"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!"),!1;var n=e.findPwdForm,a=n.name,s=n.email,i=n.newPassword;axios.post("/auth/forget/password?email="+s+"&uname="+a,{password:i}).then(function(t){console.log("find pwd success!"),console.log(t),e.$message({message:"找回密码成功！",type:"success"})}).then(function(t){e.$message({message:"请返回登录！",type:"info"})}).catch(function(t){console.log(t)})})}}},z=V,B=(n("5013"),Object(l["a"])(z,R,M,!1,null,"6bf00efa",null)),D=B.exports,J={name:"FindPwd",components:{"find-pwd-form":D}},Z=J,W=(n("5b5e"),Object(l["a"])(Z,A,N,!1,null,"d20de9a4",null)),K=W.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info-board"},[n("div",{staticClass:"info-base"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{sm:24,md:12,lg:12}},[n("div",{staticClass:"avator"},[n("span",{staticClass:"avator-icon"},[n("font-awesome-icon",{attrs:{icon:["far","user-circle"],size:"10x"}})],1)])]),n("el-col",{attrs:{sm:24,md:12,lg:12}},[n("div",{staticClass:"infomation"},[t.isEditInfo?n("div",[n("el-form",{ref:"userInfoChangeForm",staticClass:"user-info-change-form",attrs:{"status-icon":"",model:t.userInfoChange,rules:t.rules}},[n("el-form-item",{attrs:{label:"用户名",prop:"name"}},[n("el-input",{model:{value:t.userInfoChange.name,callback:function(e){t.$set(t.userInfoChange,"name",e)},expression:"userInfoChange.name"}})],1),n("el-form-item",{attrs:{label:"账号名",prop:"username"}},[n("el-input",{model:{value:t.userInfoChange.username,callback:function(e){t.$set(t.userInfoChange,"username",e)},expression:"userInfoChange.username"}})],1),n("el-form-item",{attrs:{label:"电子邮件地址",type:"email",prop:"email"}},[n("el-input",{model:{value:t.userInfoChange.email,callback:function(e){t.$set(t.userInfoChange,"email",e)},expression:"userInfoChange.email"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("userInfoChangeForm")}}},[t._v("确认")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.setEditState(!1)}}},[t._v("取消")])],1)],1)],1):n("div",[n("div",{staticClass:"info-item",attrs:{id:"name"}},[t._v(t._s(t.userInfo.name))]),n("div",{staticClass:"info-item",attrs:{id:"mail"}},[t._v("账号名: "+t._s(t.userInfo.username))]),n("div",{staticClass:"info-item",attrs:{id:"mail"}},[t._v("邮箱地址: "+t._s(t.userInfo.email))]),n("div",{staticClass:"info-item",attrs:{id:"mail"}},[t._v("用户ID: "+t._s(t.userInfo.userId))])])])])],1)],1),n("div",{staticClass:"info-operation"},[n("router-link",{attrs:{to:{path:"ChangePwd"},tag:"span"}},[n("el-button",{staticClass:"info-operator",attrs:{type:"primary"}},[t._v("修改密码")])],1),n("el-button",{staticClass:"info-operator",attrs:{type:"primary"},on:{click:t.toEditInfo}},[t._v("\n      修改个人信息\n    ")])],1)])},H=[],Y=n("3f47"),X=(n("96c8"),{data:function(){var t=function(t,e,n){if(""===e)n(new Error("电子邮件地址不能为空"));else{var a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;a.test(e)?n():n(new Error("电子邮件格式错误"))}};return{userInfo:{name:"",username:"",userId:"",email:""},userInfoChange:{},isEditInfo:!1,rules:{name:[{required:!0,message:"请输入用户名",trigger:"change"}],username:[{required:!0,message:"请输入账号名",trigger:"change"},{min:4,max:16,message:"用户名长度需为3-16个字符",trigger:"change"}],email:[{required:!0,validator:t,trigger:"change"}]}}},created:function(){this.getUserInfo()},methods:{getUserInfo:function(){var t=this;axios.get("/users/"+this.$store.state.user.userId).then(function(e){var n=e.data;t.userInfo={name:n.name,username:n.username,email:n.email,userId:n.id},t.userInfoChange=Object(Y["a"])({},t.userInfo)})},setEditState:function(t){this.isEditInfo=t},toEditInfo:function(){this.userInfoChange=Object(Y["a"])({},this.userInfo),this.setEditState(!0)},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!"),!1;axios.patch("/users/"+e.$store.state.user.userId,e.userInfoChange).then(function(t){e.$message({message:"修改密码成功！",type:"success"}),e.getUserInfo(),e.setEditState(!1)}).catch(function(t){console.log(t),e.$message({message:"修改密码失败！",type:"error"})})})}}}),tt=X,et=(n("c640"),Object(l["a"])(tt,G,H,!1,null,"299a81a6",null)),nt=et.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"preview"}},[n("el-container",[n("el-header",{staticClass:"header"},[n("el-row",[n("h3",[t._v("预览页面")]),n("span",{staticClass:"back-to-edit",on:{click:t.backToEdit}},[n("i",{staticClass:"el-icon-back"}),t._v(" 返回编辑")])])],1),n("el-main",[n("survey-questionnaire",{attrs:{questionnaire:t.questionnaire}})],1)],1)],1)},st=[],it=n("52c1"),rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"survey-questionnaire"}},[n("div",{staticClass:"survey-container"},[n("el-card",{attrs:{shadow:"always"}},[n("h1",{staticClass:"survey-title"},[t._v(t._s(t.questionName))]),n("p",[t._v(t._s(t.qComment))]),n("div",{staticClass:"survey-questions"},[n("el-form",{ref:"answerForm",staticClass:"answerForm",attrs:{"label-position":"top"},nativeOn:{submit:function(t){t.preventDefault()}}},[n("transition-group",{attrs:{name:"list-item",tag:"div"}},[t._v("\n        >\n            "),t._l(t.questionList,function(e,a){return n("div",{key:a+e.title,staticClass:"question-item"},[!0===e.isShow&&"pagination"!==e.type?n("dynamic-question",{staticClass:"dynamic-question",attrs:{setting:e}}):t._e()],1)})],2)],1)],1),n("p",[t._v(t._s(t.qEndComment))]),t.isPagination?n("div",{staticClass:"survey-pagination"},[n("el-pagination",{attrs:{background:"",layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页","page-size":t.pagination.pageSize,total:t.totalPage},on:{"current-change":t.handlePageChange}})],1):t._e(),n("div",{staticClass:"survey-operation"},[n("el-button",{attrs:{type:"primary",disabled:!1===t.isSubmit},on:{click:t.submitQuestionnaire}},[t._v("提交问卷\n        ")])],1)])],1)])},ot=[],ut=n("96f8"),lt=n.n(ut),ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"dynamic-question"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:2}},[t.setting.index?n("div",{staticClass:"question-prefix"},[n("span",{staticClass:"question-index"},[t._v(t._s(t.setting.index))]),!0===t.isRequired?n("span",{staticClass:"question-alarm"},[t._v(" * ")]):t._e()]):t._e(),"description"===t.setting.type?n("span",{staticClass:"prefix-icon"},[n("i",{staticClass:"el-icon-info"})]):t._e()]),n("el-col",{attrs:{span:22}},[n("el-form-item",{attrs:{label:t.setting.title}},["radio"===t.setting.type?n("div",[n("single-chioce",{attrs:{setting:t.setting}})],1):t._e(),"checkbox"===t.setting.type?n("div",[n("multible-chioce",{attrs:{setting:t.setting}})],1):t._e(),"textarea"===t.setting.type?n("div",[n("text-area",{attrs:{setting:t.setting}})],1):t._e(),"textInput"===t.setting.type?n("div",[n("text-input",{attrs:{setting:t.setting}})],1):t._e(),"numInput"===t.setting.type?n("div",[n("num-input",{attrs:{setting:t.setting}})],1):t._e(),"scale"===t.setting.type?n("div",[n("scale-question",{attrs:{setting:t.setting}})],1):t._e(),"rate"===t.setting.type?n("div",[n("rate-question",{attrs:{setting:t.setting}})],1):t._e(),"sort"===t.setting.type?n("div",[n("sort-question",{attrs:{setting:t.setting}})],1):t._e(),"description"===t.setting.type?n("div"):t._e()])],1)],1)],1)},dt=[],mt={name:"DynamicQuestion",props:{setting:Object},components:{"single-chioce":function(){return n.e("chunk-2d237731").then(n.bind(null,"fabb"))},"multible-chioce":function(){return n.e("chunk-2d0a3ffd").then(n.bind(null,"0524"))},"text-area":function(){return n.e("chunk-86e7edea").then(n.bind(null,"a09a"))},"text-input":function(){return n.e("chunk-7d2825de").then(n.bind(null,"b660"))},"num-input":function(){return n.e("chunk-2e99d8f0").then(n.bind(null,"2277"))},"scale-question":function(){return n.e("chunk-4627a637").then(n.bind(null,"a296"))},"rate-question":function(){return n.e("chunk-22de1888").then(n.bind(null,"0b94"))},"sort-question":function(){return n.e("chunk-20d15fd2").then(n.bind(null,"9326"))},"description-holder":function(){return n.e("chunk-2d21abe1").then(n.bind(null,"bd8a"))}},data:function(){return{isRequired:this.setting.isRequired}},computed:{}},pt=mt,ft=(n("4480"),Object(l["a"])(pt,ct,dt,!1,null,null,null)),ht=ft.exports,vt={name:"SurveyQuestionnaire",components:{"dynamic-question":ht},props:{questionnaire:{type:Object},isSubmit:{type:Boolean,default:!1}},data:function(){return{questionName:this.questionnaire.name,qComment:this.questionnaire.comment,qEndComment:this.questionnaire.endComment,pagination:{pageSize:1,currentPage:1}}},computed:{questionList:function(){var t=this;return this.questionnaire.questionList.filter(function(e){return t.isPagination?!0===e.isShow&&e.currentPage===t.pagination.currentPage&&"pagination"!==e.type:!0===e.isShow&&"pagination"!==e.type})},isPagination:function(){return!0===this.questionnaire.pagination.isPagination},totalPage:function(){return this.questionnaire.pagination.totalPage?lt()(this.questionnaire.pagination.totalPage):1}},mounted:function(){console.log("is pagi? "+this.isPagination)},methods:Object(Y["a"])({},Object(it["b"])("survey",{submitAnswerSheet:"submitAnswerSheet"}),{submitQuestionnaire:function(){this.submitAnswerSheet({qid:this.questionnaire.id})},handlePageChange:function(t){console.log("当前页："+t),this.pagination.currentPage=t}})},gt=vt,bt=(n("79bc"),Object(l["a"])(gt,rt,ot,!1,null,"83d6e7fe",null)),_t=bt.exports,yt={name:"Preview",data:function(){return{}},components:{"survey-questionnaire":_t},computed:Object(Y["a"])({},Object(it["c"])("survey",{questionnaire:"surveyQuestionnaire"}),Object(it["c"])("questionnaire",{qid:"questionnaireId"})),methods:{backToEdit:function(){this.$router.push({name:"questionEdit",params:{qid:this.qid,id:"preview"}})}}},xt=yt,qt=(n("6f93"),Object(l["a"])(xt,at,st,!1,null,"6d2419cf",null)),kt=qt.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"survey"}},[n("survey-questionnaire",{key:t.questionnaire.id,attrs:{questionnaire:t.questionnaire,isSubmit:!0}})],1)},Ct=[],Lt={name:"Survey",data:{isShow:!1},components:{"survey-questionnaire":_t},computed:Object(Y["a"])({},Object(it["c"])("survey",{questionnaire:"surveyQuestionnaire"})),created:function(){var t=this,e=this.$route.params.qid;axios.get("/questionnaires/getQuesById?qid="+e).then(function(e){console.log("get questionnaire by qid!");var n=e.status,a=e.data;switch(console.log(a),n){case 404:t.$router.push({path:"/error"});break;case 200:t.setQuestionnaire({questionnaire:a}),t.isShow=!0;break}}).catch(function(e){var n=e.response.data;t.$router.push({name:"error",query:{msg:n}})}),this.prepareQuestionList()},methods:Object(Y["a"])({},Object(it["b"])("survey",{prepareQuestionList:"prepareQuestionList",setQuestionnaire:"setQuestionnaire"}))},Qt=Lt,$t=(n("163e"),Object(l["a"])(Qt,wt,Ct,!1,null,"edda3336",null)),Ot=$t.exports,jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"manage"}},[n("div",{attrs:{id:"new-question"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push({name:"createQuestionnaire"})}}},[t._v("新建问卷")])],1),n("question-list")],1)},It=[],Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"question-list"}},[n("div",[n("el-button",{attrs:{type:"primary"},on:{click:t.getQuestionnaires}},[t._v("刷新问卷")])],1),t._l(t.questionnaires,function(e,a){return n("el-card",{key:a+e.name,staticClass:"box-card list-item",attrs:{shadow:"hover"}},[n("div",{staticClass:"list-item-header",attrs:{slot:"header"},slot:"header"},[n("el-row",[n("el-col",{attrs:{sm:24,md:12}},[n("div",{staticClass:"q-main-info"},[n("span",{staticClass:"q-info"},[t._v(t._s(a+1))]),n("span",{staticClass:"q-info"},[n("span",[t._v(t._s(e.name))])])])]),n("el-col",{attrs:{sm:24,md:12}},[n("div",{staticClass:"q-sub-info"},[n("span",{staticClass:"title q-info"},[t._v("\n              ·\n              "),!0===e.state?n("span",{staticClass:"status"},[t._v("运行中")]):n("span",{staticClass:"status"},[t._v("暂停中")])]),n("span",{staticClass:"title q-info"},[t._v("\n              答卷数量:\n              "),null===e.peopleNum?n("span",{staticClass:"status"},[t._v("0")]):n("span",{staticClass:"status"},[t._v(t._s(e.peopleNum))])]),n("span",{staticClass:"title q-info"},[t._v("\n              发布日期:\n              "),n("span",{staticClass:"status"},[t._v(t._s(e.createTime.split(".")[0].replace("T"," ")))])])])])],1)],1),n("el-row",{staticClass:"q-control"},[n("el-button",{staticClass:"control-button",attrs:{type:"primary",plain:"",size:"small"},on:{click:function(n){return t.editQuestionnaire(e.id,a)}}},[n("i",{staticClass:"el-icon-edit"}),t._v("\n        编辑\n      ")]),n("el-button",{staticClass:"control-button",attrs:{type:"primary",plain:"",size:"small"},on:{click:function(n){return t.changeQuestionnaireState(e.id,!0)}}},[n("i",{staticClass:"el-icon-check"}),t._v("\n        发布\n      ")]),n("el-button",{staticClass:"control-button",attrs:{type:"primary",plain:"",size:"small"},on:{click:function(n){return t.changeQuestionnaireState(e.id,!1)}}},[n("i",{staticClass:"el-icon-close"}),t._v("\n        停止\n      ")]),n("el-button",{staticClass:"control-button",attrs:{type:"primary",plain:"",size:"small",disabled:e.peopleNum<=1},on:{click:function(n){return t.$router.push({path:"/report/"+e.id})}}},[n("i",{staticClass:"el-icon-document"}),t._v("\n        分析\n      ")]),n("el-button",{staticClass:"control-button",attrs:{type:"primary",plain:"",size:"small",disabled:e.peopleNum<=0},on:{click:function(n){return t.download_excel(e.id)}}},[n("i",{staticClass:"el-icon-download"}),t._v("\n        下载答卷\n      ")]),n("el-popover",{attrs:{placement:"bottom",width:"250",trigger:"click"}},[n("div",{staticClass:"popover-content"},[n("p",[t._v("链接：")]),n("a",{attrs:{href:t.shareBaseUrl+e.id,target:"_blank"}},[t._v(t._s(t.shareBaseUrl+e.id))]),n("br"),n("p",[t._v("二维码")]),n("qrcode",{attrs:{value:t.shareBaseUrl+e.id,options:{width:150}}})],1),n("el-button",{staticClass:"control-button button-share",attrs:{slot:"reference",type:"primary",plain:"",size:"small"},slot:"reference"},[n("i",{staticClass:"el-icon-share"}),t._v("\n          分享\n        ")])],1),n("el-button",{staticClass:"control-button",attrs:{type:"danger",plain:"",size:"small"},on:{click:function(n){return t.deleteQuestionnaire(e.id)}}},[n("i",{staticClass:"el-icon-delete"}),t._v("\n        删除\n      ")])],1)],1)})],2)},Et=[],St={name:"QuestionList",data:function(){return{questionnaires:[]}},created:function(){this.getQuestionnaires()},computed:{shareBaseUrl:function(){var t=document.location.origin;return t+"/survey/"}},methods:Object(Y["a"])({},Object(it["d"])({set_uQL:"set_userQuestionList"}),{getQuestionnaires:function(){var t=this;axios.get("/questionnaires/search/userId?userId="+this.$store.state.user.userId).then(function(e){t.questionnaires=e.data._embedded.questionnaires,console.log("get questionnaire by id"),console.log(t.questionnaires)}).catch(function(t){console.log(t)})},download_excel:function(t){var e=this;console.log(t);var n={responseType:"blob"};axiosVisual.get("excel/"+t,n).then(function(e){var n=e.data,a=new Blob([n]),s="".concat(t,".xlsx"),i=document.createElement("a");i.download=s,i.href=URL.createObjectURL(a),document.body.appendChild(i),i.click(),URL.revokeObjectURL(i),document.body.removeChild(i)}).catch(function(t){console.log(t),console.log(t.response),500===t.response.status&&e.$message.error("暂无答卷报告！")})},editQuestionnaire:function(t,e){var n=this;this.$confirm("已发布的问卷再次编辑后，会丢失以前的答卷数据。是否确认编辑？","提示",{type:"warning"}).then(function(e){n.changeQuestionnaireState(t,!1),axios.post("/answerSheet/deleteByQuesId/?qid="+t).then(function(t){console.log("empty")}).catch(function(t){console.log(t)}),n.$router.push({name:"questionEdit",params:{qid:t}}),console.log(t)}).catch(function(t){})},releaseQuestionnaire:function(t){axios.patch("/questionnaires/"+t,{state:!0})},changeQuestionnaireState:function(t,e){var n=this;axios.patch("/questionnaires/"+t,{state:e}).then(function(t){console.log("change questionnaire state! "+e),n.getQuestionnaires()}).catch(function(t){return console.log(t)})},deleteQuestionnaire:function(t){var e=this;this.$confirm("此操作将永久删除该问卷, 是否继续?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){axios.delete("/questionnaires/"+t).then(function(n){console.log("delete: "+t),e.getQuestionnaires(),e.$message({type:"success",message:"删除成功!"})}).catch(function(t){console.log(t),e.$message({type:"error",message:"删除出现错误！"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}})},Ft=St,Ut=(n("880e"),Object(l["a"])(Ft,Pt,Et,!1,null,"8db7af2c",null)),Tt=Ut.exports,At={components:{"question-list":Tt}},Nt=At,Rt=(n("c51f"),Object(l["a"])(Nt,jt,It,!1,null,"54da0299",null)),Mt=Rt.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"create-guide"}},[n("el-form",[n("el-form-item",{attrs:{label:"问卷名称",prop:"questionnaireName"}},[n("el-input",{model:{value:t.questionnaireName,callback:function(e){t.questionnaireName=e},expression:"questionnaireName"}})],1),n("el-button",{attrs:{type:"primary"},on:{click:t.createQuestionnaire}},[t._v("立即创建")])],1)],1)},zt=[],Bt={name:"CreateQuestionnaire",data:function(){return{questionnaireName:""}},methods:Object(Y["a"])({},Object(it["d"])("questionnaire",{set_uQL:"set_userQuestionList"}),{createQuestionnaire:function(){var t=this;""===this.questionnaireName?this.$message.error("问卷名称不能为空"):axios.post("/questionnaires/empty",{userId:this.$store.state.user.userId,name:this.questionnaireName}).then(function(e){var n=e.data;t.$message.success("创建问卷成功,跳转到编辑页面"),t.$router.push({name:"questionEdit",params:{qid:n,id:"create"}})}).then(function(e){e&&t.$message.error("创建问卷失败，请重试")})}})},Dt=Bt,Jt=Object(l["a"])(Dt,Vt,zt,!1,null,"5cb847e5",null),Zt=Jt.exports,Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"question-edit-container"},[n("el-header",[n("bread-header",{attrs:{view:{viewType:"question-edit"}}})],1),n("el-container",[n("el-aside",{attrs:{width:"210px"}},[n("el-menu",{staticClass:"question-edit-nav",attrs:{"default-openeds":["1","2","3","4","5"]}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("span",[t._v("分页说明")])]),n("el-menu-item-group",[n("el-menu-item",{on:{click:function(e){return t.addDescription()}}},[n("el-button",{attrs:{type:"text"}},[t._v("备注说明")])],1),n("el-menu-item",{on:{click:function(e){return t.addPagination()}}},[n("el-button",{attrs:{type:"text"}},[t._v("设置分页")])],1)],1)],2),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("span",[t._v("选择题")])]),n("el-menu-item-group",[n("el-menu-item",{on:{click:function(e){return t.addQuestion({type:"radio",title:"单选题"})}}},[n("el-button",{attrs:{type:"text"}},[t._v("单选题")])],1),n("el-menu-item",{on:{click:function(e){return t.addQuestion({type:"checkbox",title:"多选题"})}}},[n("el-button",{attrs:{type:"text"}},[t._v("多选题")])],1)],1)],2),n("el-submenu",{attrs:{index:"3"}},[n("template",{slot:"title"},[n("span",[t._v("填空题")])]),n("el-menu-item-group",[n("el-menu-item",{on:{click:function(e){return t.addQuestion({type:"textarea",title:"填空题"})}}},[n("el-button",{attrs:{type:"text"}},[t._v("填空题")])],1),n("el-menu-item",{on:{click:function(e){return t.addQuestion({type:"numInput",title:"数字输入题"})}}},[n("el-button",{attrs:{type:"text"}},[t._v("数字输入题")])],1),n("el-menu-item",{on:{click:function(e){return t.addQuestion({type:"textInput",title:"短文本输入题"})}}},[n("el-button",{attrs:{type:"text"}},[t._v("短文本输入题")])],1)],1)],2),n("el-submenu",{attrs:{index:"4"}},[n("template",{slot:"title"},[n("span",[t._v("打分排序")])]),n("el-menu-item-group",[n("el-menu-item",{on:{click:function(e){return t.addQuestion({type:"rate",title:"请给本项打分"})}}},[n("el-button",{attrs:{type:"text"}},[t._v("评分题")])],1),n("el-menu-item",{on:{click:function(e){return t.addQuestion({type:"scale",title:"您向朋友或同事推荐我们的可能性有多大？"})}}},[n("el-button",{attrs:{type:"text"}},[t._v("量表题")])],1),n("el-menu-item",{on:{click:function(e){return t.addQuestion({type:"sort",title:"请给以下选项排序"})}}},[n("el-button",{attrs:{type:"text"}},[t._v("排序题")])],1)],1)],2),n("el-submenu",{attrs:{index:"5"}},[n("template",{slot:"title"},[n("span",[t._v("快速创建个人信息")])]),n("el-menu-item-group",[n("el-menu-item",{on:{click:function(e){return t.addQuestion({type:"textInput",title:"姓名"})}}},[n("el-button",{attrs:{type:"text"}},[t._v("姓名")])],1),n("el-menu-item",{on:{click:function(e){return t.addQuestion({type:"radio",title:"性别"})}}},[n("el-button",{attrs:{type:"text"}},[t._v("性别")])],1),n("el-menu-item",{on:{click:function(e){return t.addQuestion({type:"numInput",title:"年龄"})}}},[n("el-button",{attrs:{type:"text"}},[t._v("年龄")])],1),n("el-menu-item",{on:{click:function(e){return t.addQuestion({type:"textInput",title:"地址"})}}},[n("el-button",{attrs:{type:"text"}},[t._v("地址")])],1)],1)],2)],1)],1),n("el-main",[n("el-row",[n("el-container",{staticClass:"question-edit-main"},[n("el-col",{attrs:{span:16}},[n("div",{attrs:{id:"questionaire-wrapper"}},[n("intro",{staticClass:"question-card"}),this.isPagination?n("pagination",{staticClass:"question-card",attrs:{question:{isDraggable:!1}}}):t._e(),0!==this.qList.length?n("div",{attrs:{id:"questionList"}},[n("draggable",{attrs:{list:this.qList,options:t.dragOption,move:t.dragMove},on:{start:function(e){t.isDragging=!0},end:t.dragEnd,change:t.dragChange,update:t.dragUpdate}},[n("transition-group",{attrs:{type:"transition"}},t._l(this.qList,function(e,a){return n("qCard",{key:a,ref:"qCard",refInFor:!0,class:t.activeClass==a?"active":"",attrs:{"track-by":"$index",qIndex:a,question:e},nativeOn:{click:function(e){return t.changeClass(a)}}})}),1)],1)],1):t._e(),n("br"),n("end",{staticClass:"question-card"})],1)]),n("el-col",{attrs:{span:8}},[n("transition",{attrs:{name:"question-setting"}},[t.pageManage.isClick?n("question-setting",{ref:"qSetting",class:1==t.navBarFixed?"navBarWrap":"",attrs:{qSettingJson:t.qSettingJson}}):t._e()],1)],1)],1)],1)],1)],1)],1)},Kt=[],Gt=n("b89d"),Ht=n("499a"),Yt=n.n(Ht),Xt=(a={name:"question-edit-view",data:function(){return{userId:"1234",isDragging:!1,isCollapse:!0,activeClass:-1,navBarFixed:!1}},mounted:function(){},computed:Object(Y["a"])({},Object(it["c"])("questionnaire",{userQuestionList:"userQuestionList",intro:"introContents",isPagination:"isPagination",totalPage:"totalPage",totalQuestionNum:"totalQuestionNum",questionnaireId:"questionnaireId",qState:"q_state",pageManage:"pageManage",numLimit:"numLimit"}),{qList:{get:function(){return this.$store.state.questionnaire.userQuestionList.questionList},set:function(t){this.$store.commit("update_questionList",t)}},qList_length:function(){return null!==this.qList.length?this.qList.length:0},dragOption:function(){return{animation:300}},activeQindex:function(){return-1!==this.activeClass?this.qList[this.activeClass].index:-1},isRequired:function(){return-1===this.activeClass||(console.log(this.qList[this.activeClass].isRequired),this.qList[this.activeClass].isRequired)},qSettingJson:function(){var t={};return t["activeClass"]=this.activeClass,-1!==this.activeClass&&(t["isRequired"]=this.qList[this.activeClass].isRequired,t["rateMax"]=this.qList[this.activeClass].content.max,t["numLimit"]=this.numLimit),t}})},Object(Gt["a"])(a,"mounted",function(){this.set_pageManage({type:"isClick",boolean:!1}),window.addEventListener("scroll",this.watchScroll)}),Object(Gt["a"])(a,"created",function(){"preview"!==this.$route.params.id&&this.getUserQuestionList(),this.clickListener()}),Object(Gt["a"])(a,"methods",Object(Y["a"])({},Object(it["d"])("questionnaire",{add_qList_obj:"add_questionList_object",set_qList:"set_questionList",set_pagination:"set_pagination",set_totalPage:"set_totalPage",set_isPagination:"set_isPagination",set_totalQNum:"set_totalQuestionNum",set_state:"set_state",set_pageManage:"set_pageManage",set_uQL:"set_userQuestionList"}),Object(it["b"])("survey",{setQuestionnairePreview:"setQuestionnaire"}),{getUserQuestionList:function(){var t=this,e=this.$route.params.qid;axios.get("/questionnaires/editQuesbyId?qid="+e).then(function(e){console.log(e.data),t.set_uQL(e.data)}).catch(function(t){console.log(t)})},get_init:function(){var t={type:null,index:0,currentPage:0,title:null,isRequired:!0,isDraggable:!0,content:{options:[],max:5,min:1},jumpLogic:[{startValue:"",endValue:""}]};return t},addQuestion:function(t){var e=this.totalQuestionNum+1;this.set_totalQNum(e);var n=this.get_init();n.type=t.type,n.index=e,n.title=t.title,"radio"!=t.type&&"checkbox"!=t.type&&"sort"!=t.type||("性别"!==t.title?n.content.options=["选项1","选项2"]:n.content.options=["男","女"]),this.add_qList_obj(n)},addDescription:function(){var t=this.get_init();t.type="description",t.title="这是一段段落说明",this.add_qList_obj(t),this.scrollTo(this.qList_length-1)},addPagination:function(){var t=0,e=this.get_init();e.type="pagination",0==this.totalPage?(t=2,this.set_isPagination(!0),e.currentPage=2):(t=this.totalPage,t+=1,e.currentPage=t),this.set_totalPage(t),this.add_qList_obj(e)},changeClass:function(t){console.log(this.qList[t].type),t>=0&&"pagination"!==this.qList[t].type&&"description"!==this.qList[t].type?(this.activeClass=t,this.set_pageManage({type:"isClick",boolean:!0})):(this.activeClass=-1,this.set_pageManage({type:"isClick",boolean:!1}))},clickListener:function(){var t=this;document.addEventListener("click",function(e){if(1==t.pageManage.isClick){var n=!1;if(0==t.pageManage.addJumpLogicIsClick&&0==t.pageManage.iconMinusIsClick)for(var a in t.$refs.qSetting.$el.contains(e.target)&&(n=!0),t.$refs.qCard)t.$refs.qCard[a].$el.contains(e.target)&&(n=!0);else n=!0,t.set_pageManage({type:"all",pageManage:{isClick:!0,addJumpLogicIsClick:!1,iconMinusIsClick:!1}});n?t.set_pageManage({type:"isClick",boolean:!0}):(t.set_pageManage({type:"isClick",boolean:!1}),t.activeClass=-1)}})},watchScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.navBarFixed=t>49},scrollTo:function(t){},emptyPage:function(){this.set_isPagination(!1),this.set_totalPage(0)},dragStart:function(t){},dragEnd:function(t){var e=this.userQuestionList.questionList,n=this.update_index_currentPage(e);this.set_qList(n)},dragChange:function(t){var e=t.moved.newIndex,n=t.moved.oldIndex;n==this.activeClass&&(this.activeClass=e)},dragMove:function(t,e){},dragUpdate:function(t){},update_index_currentPage:function(t){var e=t,n=2,a=1;for(var s in e)"pagination"===e[s].type?(e[s].currentPage=n,n++):"description"===e[s].type||(e[s].index=a,a++);return e}})),Object(Gt["a"])(a,"components",{draggable:Yt.a,intro:function(){return n.e("chunk-60127578").then(n.bind(null,"4379"))},end:function(){return n.e("chunk-2e7baada").then(n.bind(null,"3c42"))},qCard:function(){return n.e("chunk-4da486d0").then(n.bind(null,"2b0e"))},pagination:function(){return n.e("chunk-56a9ad8b").then(n.bind(null,"5f50"))},"bread-header":function(){return n.e("chunk-110e91d0").then(n.bind(null,"8810"))},"question-setting":function(){return n.e("chunk-621f6fe4").then(n.bind(null,"1329"))}}),a),te=Xt,ee=(n("b432"),Object(l["a"])(te,Wt,Kt,!1,null,"d9428464",null)),ne=ee.exports,ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"release"}},[n("el-container",[n("el-header",[n("bread-header",{attrs:{view:{viewType:"release"}}})],1),n("el-main",[n("el-card",{staticClass:"share"},[n("h2",[t._v("问卷发布成功！")]),n("el-divider"),n("div",{staticClass:"share-item"},[n("h3",[t._v("问卷ID: "+t._s(t.qid))])]),n("el-divider"),n("div",{staticClass:"share-item"},[n("h3",[t._v("链接")]),n("a",{attrs:{href:t.shareUrl}},[t._v(t._s(t.shareUrl))])]),n("el-divider"),n("div",{staticClass:"share-item"},[n("h3",[t._v("二维码")]),n("qrcode",{attrs:{value:t.shareUrl,options:t.qrcodeOptions}})],1)],1)],1)],1)],1)},se=[],ie={name:"release-view",components:{"bread-header":function(){return n.e("chunk-110e91d0").then(n.bind(null,"8810"))}},data:function(){return{qid:"",shareUrl:"",qrcodeOptions:{width:250}}},created:function(){this.qid=this.$route.params.qid;var t=document.location.origin;this.shareUrl=t+"/survey/"+this.qid}},re=ie,oe=(n("346f"),Object(l["a"])(re,ae,se,!1,null,"2c61cac8",null)),ue=oe.exports,le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",[n("div",[n("el-col",{attrs:{span:2}},[n("div",[n("el-button",{attrs:{type:"text"}},[n("i",{staticClass:"el-icon-back"}),n("span",[t._v("返回个人问卷中心")])])],1)]),n("el-col",{attrs:{span:16}},[n("div",[n("el-button",{staticClass:"high-light-button",attrs:{type:"text"}},[t._v("问卷编辑")]),n("i",{staticClass:"el-icon-arrow-right"}),n("el-button",{attrs:{type:"text"}},[t._v("发布问卷")]),n("i",{staticClass:"el-icon-arrow-right"}),n("el-button",{attrs:{type:"text"}},[t._v("统计报表")])],1)]),n("el-col",{attrs:{span:4}},[n("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("保存问卷")]),n("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("预览问卷")]),n("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("发布并分享")])],1),n("el-col",{attrs:{span:2}},[n("el-dropdown",[n("el-button",{attrs:{type:"text"}},[n("img",{staticClass:"user-logo",attrs:{src:t.userLogo}})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{disabled:""}},[n("span",{staticClass:"user-id"},[t._v("用户账号名")])]),n("el-dropdown-item",{attrs:{divided:""}},[t._v("我的个人信息")]),n("el-dropdown-item",{attrs:{divided:""}},[n("i",{staticClass:"el-icon-circle-close-outline"}),t._v("退出登录")])],1)],1)],1)],1)]),n("el-container",[n("el-aside",{attrs:{width:"210px"}},[n("el-menu",{attrs:{"default-openeds":["1","2","3","4","5"]}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("span",[t._v("分页说明")])]),n("el-menu-item-group",[n("el-menu-item",[n("el-button",{attrs:{type:"text"}},[t._v("备注说明")])],1),n("el-menu-item",[n("el-button",{attrs:{type:"text"}},[t._v("设置分页")])],1)],1)],2),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("span",[t._v("选择题")])]),n("el-menu-item-group",[n("el-menu-item",[n("el-button",{attrs:{type:"text"}},[t._v("单选题")])],1),n("el-menu-item",[n("el-button",{attrs:{type:"text"}},[t._v("多选题")])],1)],1)],2),n("el-submenu",{attrs:{index:"3"}},[n("template",{slot:"title"},[n("span",[t._v("填空题")])]),n("el-menu-item-group",[n("el-menu-item",[n("el-button",{attrs:{type:"text"}},[t._v("填空题")])],1),n("el-menu-item",[n("el-button",{attrs:{type:"text"}},[t._v("数字输入题")])],1),n("el-menu-item",[n("el-button",{attrs:{type:"text"}},[t._v("短文本输入题")])],1)],1)],2),n("el-submenu",{attrs:{index:"4"}},[n("template",{slot:"title"},[n("span",[t._v("打分排序")])]),n("el-menu-item-group",[n("el-menu-item",[n("el-button",{attrs:{type:"text"}},[t._v("评分题")])],1),n("el-menu-item",[n("el-button",{attrs:{type:"text"}},[t._v("量表题")])],1),n("el-menu-item",[n("el-button",{attrs:{type:"text"}},[t._v("排序题")])],1)],1)],2),n("el-submenu",{attrs:{index:"5"}},[n("template",{slot:"title"},[n("span",[t._v("快速创建个人信息")])]),n("el-menu-item-group",[n("el-menu-item",[n("el-button",{attrs:{type:"text"}},[t._v("姓名")])],1),n("el-menu-item",[n("el-button",{attrs:{type:"text"}},[t._v("性别")])],1),n("el-menu-item",[n("el-button",{attrs:{type:"text"}},[t._v("年龄")])],1),n("el-menu-item",[n("el-button",{attrs:{type:"text"}},[t._v("地址")])],1)],1)],2)],1)],1),n("el-main",t._l(t.options,function(e,a){return n("p",[t._v(t._s(a))])}),0)],1)],1)},ce=[],de={name:"testFix",data:function(){return{options:[1,2,3,4,5,6,7,8,9,10,11,1,1,1,1,1,1,1,1,1],userLogo:n("d64e")}}},me=de,pe=(n("64a6"),Object(l["a"])(me,le,ce,!1,null,"0f8079f0",null)),fe=pe.exports,he=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"report"}},[n("el-container",{staticClass:"container"},[n("el-header",{staticClass:"header"},[n("el-menu",{staticClass:"header-nav",attrs:{"default-active":t.$route.name,mode:"horizontal","background-color":t.headerNav.bgColor,"text-color":t.headerNav.textColor,"active-text-color":t.headerNav.textColorActive}},[n("el-menu-item",{attrs:{index:"user.manage"}},[n("router-link",{attrs:{to:{name:"user"},tag:"div"}},[t._v("返回个人问卷中心")])],1),n("el-menu-item",{attrs:{index:"report.analysis"}},[n("router-link",{attrs:{to:{name:"report.analysis"},tag:"div"}},[t._v("统计分析")])],1),n("el-menu-item",{attrs:{index:"report.adv-analysis"}},[n("router-link",{attrs:{to:{name:"report.adv-analysis"},tag:"div"}},[t._v("高级分析")])],1),n("el-menu-item",{attrs:{index:"download"}},[n("el-button",{attrs:{type:"primary"},on:{click:t.download_excel}},[t._v("下载答卷")])],1)],1)],1),n("el-main",{staticClass:"main-content"},[n("router-view",{staticClass:"main-content-view"})],1)],1)],1)},ve=[],ge={name:"Report",data:function(){return{activeIndex:null,headerNav:{bgColor:"#545C64",textColor:"#C0C4CC",textColorActive:"#76d7c4"}}},methods:{download_excel:function(){var t=this,e={responseType:"blob"};axiosVisual.get("excel/"+this.$route.params.qid,e).then(function(e){var n=e.data,a=new Blob([n]),s="".concat(t.$route.params.qid,".xlsx"),i=document.createElement("a");i.download=s,i.href=URL.createObjectURL(a),document.body.appendChild(i),i.click(),URL.revokeObjectURL(i),document.body.removeChild(i)}).catch(function(e){t.$message.error(e.response.data.error)})}}},be=ge,_e=(n("e63d"),Object(l["a"])(be,he,ve,!1,null,"dca97f7c",null)),ye=_e.exports,xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"analysis-container"},[t._l(t.questionnaire,function(t,e){return n("div",{key:e},[n("dynamic-report",{staticClass:"report-item",attrs:{report:t}})],1)}),n("el-dialog",{attrs:{title:"警告",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("span",[t._v("当前该问卷的填写结果过少，无法进行分析")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.handleClose}},[t._v("确定")])],1)])],2)},qe=[],ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"question_report"},[t.report.data?n("div",[n("h4",[t._v(t._s(t.report.title))]),"category"==t.report.type?n("div",[n("category-report",{attrs:{report:t.report}})],1):t._e(),"text"==t.report.type?n("div",[n("text-report",{attrs:{report:t.report}})],1):t._e(),"number"==t.report.type?n("div",[n("number-report",{attrs:{report:t.report}})],1):t._e()]):t._e()])},we=[],Ce={props:{report:null},components:{"category-report":function(){return n.e("chunk-2d0b6138").then(n.bind(null,"1c2b"))},"text-report":function(){return n.e("chunk-2d0c0666").then(n.bind(null,"422d"))},"number-report":function(){return n.e("chunk-253ad442").then(n.bind(null,"77ec"))}}},Le=Ce,Qe=Object(l["a"])(Le,ke,we,!1,null,"2cebef10",null),$e=Qe.exports,Oe={data:function(){return{dialogVisible:!1,questionnaire:null}},methods:{handleClose:function(t){this.$router.push({path:"/user"})}},created:function(){var t=this;axiosVisual.get("base_report/"+this.$route.params.qid).then(function(e){t.questionnaire=e.data,t.questionnaire||(t.dialogVisible=!0),console.log(t.questionnaire)}).catch(function(e){t.$message.error(e.response.data.error)})},components:{"dynamic-report":$e}},je=Oe,Ie=(n("1c77"),Object(l["a"])(je,xe,qe,!1,null,"f2621f90",null)),Pe=Ie.exports,Ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-tabs",{attrs:{"tab-position":"left"}},[n("el-tab-pane",{attrs:{label:"交叉分析"}},[n("cross-analysis",{staticClass:"analysis-item",attrs:{meta:t.meta}})],1),n("el-tab-pane",{attrs:{label:"单样本T检验"}},[n("ttest1samp",{staticClass:"analysis-item",attrs:{meta:t.meta}})],1),n("el-tab-pane",{attrs:{label:"双独立样本T检验"}},[n("ttestind",{staticClass:"analysis-item",attrs:{meta:t.meta}})],1),n("el-tab-pane",{attrs:{label:"双独立样本非参数检验"}},[n("mannwhitneyu",{staticClass:"analysis-item",attrs:{meta:t.meta}})],1),n("el-tab-pane",{attrs:{label:"配对样本T检验"}},[n("ttestrel",{staticClass:"analysis-item",attrs:{meta:t.meta}})],1),n("el-tab-pane",{attrs:{label:"正态性检验"}},[n("normaltest",{staticClass:"analysis-item",attrs:{meta:t.meta}})],1),n("el-tab-pane",{attrs:{label:"单因素方差分析"}},[n("foneway",{staticClass:"analysis-item",attrs:{meta:t.meta}})],1),n("el-tab-pane",{attrs:{label:"回归分析"}},[n("regression-analysis",{staticClass:"analysis-item",attrs:{meta:t.meta}})],1),n("el-tab-pane",{attrs:{label:"因子分析"}},[n("factor-analysis",{staticClass:"analysis-item",attrs:{meta:t.meta}})],1)],1)],1)},Se=[],Fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("单样本T检验")]),n("div",[t.meta?n("div",[t.options.length>0?n("div",[n("div",[n("el-select",{attrs:{placeholder:"请选择题目"},model:{value:t.column,callback:function(e){t.column=e},expression:"column"}},t._l(t.options,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),n("div",[n("span",[t._v("总体均值:")]),n("el-input",{staticClass:"popmean-input",model:{value:t.popmean,callback:function(e){t.popmean=e},expression:"popmean"}})],1),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.commit(t.column,t.popmean)}}},[t._v("分析")])],1):n("div",[n("p",[t._v("没有可进行该高级分析功能的题目")])]),t.result?n("div",[n("el-table",{attrs:{data:[t.result]}},[n("el-table-column",{attrs:{prop:"statistic",label:"检验值"}}),n("el-table-column",{attrs:{prop:"pvalue",label:"P值"}})],1)],1):t._e()]):t._e()])])},Ue=[],Te={props:{meta:Array},data:function(){return{column:"",result:null,popmean:null}},computed:{options:function(){var t=[];return this.meta.map(function(e,n){-1!=["scale","rate","numInput"].indexOf(e.type)&&t.push(e.index+". "+e.title)}),t}},methods:{commit:function(t,e){var n=this;this.result=null,axiosVisual.get("ttest_1samp/"+this.$route.params.qid,{params:{column:t,popmean:e}}).then(function(t){n.result=t.data}).catch(function(t){n.$message.error(t.response.data.error)})}}},Ae=Te,Ne=(n("f5d9"),Object(l["a"])(Ae,Fe,Ue,!1,null,"bee7ee30",null)),Re=Ne.exports,Me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("双独立样本T检验")]),n("div",[t.meta?n("div",[t.options.length>0?n("div",[n("div",[n("el-select",{attrs:{placeholder:"请选择题目1"},model:{value:t.column1,callback:function(e){t.column1=e},expression:"column1"}},t._l(t.options,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),n("div",[n("el-select",{attrs:{placeholder:"请选择题目2"},model:{value:t.column2,callback:function(e){t.column2=e},expression:"column2"}},t._l(t.options,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.commit(t.column1,t.column2)}}},[t._v("分析")])],1):t._e()]):n("div",[n("p",[t._v("没有可进行该高级分析功能的题目")])]),t.result?n("div",[n("el-table",{attrs:{data:[t.result]}},[n("el-table-column",{attrs:{prop:"statistic",label:"检验值"}}),n("el-table-column",{attrs:{prop:"pvalue",label:"P值"}})],1)],1):t._e()])])},Ve=[],ze={props:{meta:Array},data:function(){return{column1:"",column2:"",result:null}},computed:{options:function(){var t=[];return this.meta.map(function(e,n){-1!=["scale","rate","numInput"].indexOf(e.type)&&t.push(e.index+". "+e.title)}),t}},methods:{same_column:function(){this.$message({message:"不能选择同一个题目进行检验",type:"error"})},commit:function(t,e){var n=this;this.result=null,t===e?this.same_column():axiosVisual.get("ttest_ind/"+this.$route.params.qid,{params:{column1:t,column2:e}}).then(function(t){n.result=t.data}).catch(function(t){n.$message.error(t.response.data.error)})}}},Be=ze,De=Object(l["a"])(Be,Me,Ve,!1,null,"c899b488",null),Je=De.exports,Ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("双独立样本非参数检验")]),n("div",[t.meta?n("div",[t.options.length>0?n("div",[n("div",[n("el-select",{attrs:{placeholder:"请选择题目1"},model:{value:t.column1,callback:function(e){t.column1=e},expression:"column1"}},t._l(t.options,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),n("div",[n("el-select",{attrs:{placeholder:"请选择题目2"},model:{value:t.column2,callback:function(e){t.column2=e},expression:"column2"}},t._l(t.options,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.commit(t.column1,t.column2)}}},[t._v("分析")])],1):t._e()]):n("div",[n("p",[t._v("没有可进行该高级分析功能的题目")])]),t.result?n("div",[n("el-table",{attrs:{data:[t.result]}},[n("el-table-column",{attrs:{prop:"statistic",label:"检验值"}}),n("el-table-column",{attrs:{prop:"pvalue",label:"P值"}})],1)],1):t._e()])])},We=[],Ke={props:{meta:Array},data:function(){return{column1:"",column2:"",result:null}},computed:{options:function(){var t=[];return this.meta.map(function(e,n){-1!=["scale","rate","numInput"].indexOf(e.type)&&t.push(e.index+". "+e.title)}),t}},methods:{same_column:function(){this.$message({message:"不能选择同一个题目进行检验",type:"error"})},commit:function(t,e){var n=this;this.result=null,t===e?this.same_column():axiosVisual.get("mannwhitneyu/"+this.$route.params.qid,{params:{column1:t,column2:e}}).then(function(t){n.result=t.data}).catch(function(t){n.$message.error(t.response.data.error)})}}},Ge=Ke,He=Object(l["a"])(Ge,Ze,We,!1,null,"5ea80ce2",null),Ye=He.exports,Xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("配对样本T检验")]),n("div",[t.meta?n("div",[t.options.length>0?n("div",[n("div",[n("el-select",{attrs:{placeholder:"请选择题目1"},model:{value:t.column1,callback:function(e){t.column1=e},expression:"column1"}},t._l(t.options,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),n("div",[n("el-select",{attrs:{placeholder:"请选择题目2"},model:{value:t.column2,callback:function(e){t.column2=e},expression:"column2"}},t._l(t.options,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.commit(t.column1,t.column2)}}},[t._v("分析")])],1):t._e()]):n("div",[n("p",[t._v("没有可进行该高级分析功能的题目")])]),t.result?n("div",[n("el-table",{attrs:{data:[t.result]}},[n("el-table-column",{attrs:{prop:"statistic",label:"检验值"}}),n("el-table-column",{attrs:{prop:"pvalue",label:"P值"}})],1)],1):t._e()])])},tn=[],en={props:{meta:Array},data:function(){return{column1:"",column2:"",result:null}},computed:{options:function(){var t=[];return this.meta.map(function(e,n){-1!=["scale","rate","numInput"].indexOf(e.type)&&t.push(e.index+". "+e.title)}),t}},methods:{same_column:function(){this.result=null,this.$message({message:"不能选择同一个题目进行检验",type:"error"})},commit:function(t,e){var n=this;this.result=null,t===e?this.same_column():axiosVisual.get("ttest_rel/"+this.$route.params.qid,{params:{column1:t,column2:e}}).then(function(t){n.result=t.data}).catch(function(t){n.$message.error(t.response.data.error)})}}},nn=en,an=Object(l["a"])(nn,Xe,tn,!1,null,"2db98272",null),sn=an.exports,rn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("正态性检验")]),n("div",[t.meta?n("div",[t.options.length>0?n("div",[n("div",[n("el-select",{attrs:{placeholder:"请选择题目"},model:{value:t.column,callback:function(e){t.column=e},expression:"column"}},t._l(t.options,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.commit(t.column,t.popmean)}}},[t._v("分析")])],1):n("div",[n("p",[t._v("没有可进行该高级分析功能的题目")])]),t.result?n("div",[n("el-table",{attrs:{data:[t.result]}},[n("el-table-column",{attrs:{prop:"statistic",label:"检验值"}}),n("el-table-column",{attrs:{prop:"pvalue",label:"P值"}})],1)],1):t._e()]):t._e()])])},on=[],un={props:{meta:Array},data:function(){return{column:"",result:null,popmean:null}},computed:{options:function(){var t=[];return this.meta.map(function(e,n){-1!=["scale","rate","numInput"].indexOf(e.type)&&t.push(e.index+". "+e.title)}),t}},methods:{commit:function(t,e){var n=this;this.result=null,axiosVisual.get("normaltest/"+this.$route.params.qid,{params:{column:t}}).then(function(t){n.result=t.data}).catch(function(t){n.$message.error(t.response.data.error)})}}},ln=un,cn=Object(l["a"])(ln,rn,on,!1,null,"3b8ec328",null),dn=cn.exports,mn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("单因素方差分析")]),n("div",[t.meta?n("div",[t.options_group.length>0&&t.options_number.length>0?n("div",[n("div",[n("el-select",{attrs:{placeholder:"请选择因子题目（仅支持单选题）"},model:{value:t.column_group,callback:function(e){t.column_group=e},expression:"column_group"}},t._l(t.options_group,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),n("div",[n("el-select",{attrs:{placeholder:"请选择因变量题目"},model:{value:t.column_number,callback:function(e){t.column_number=e},expression:"column_number"}},t._l(t.options_number,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.commit(t.column_group,t.column_number)}}},[t._v("分析")])],1):t._e()]):n("div",[n("p",[t._v("没有可进行该高级分析功能的题目")])]),t.result?n("div",[n("el-table",{attrs:{data:[t.result]}},[n("el-table-column",{attrs:{prop:"statistic",label:"检验值"}}),n("el-table-column",{attrs:{prop:"pvalue",label:"P值"}})],1),n("p",[t._v("注: 返回-1, -1说明没有通过Levene检验")])],1):t._e()])])},pn=[],fn={props:{meta:Array},data:function(){return{column_group:"",column_number:"",result:null}},computed:{options_number:function(){var t=[];return this.meta.map(function(e,n){-1!=["scale","rate","numInput"].indexOf(e.type)&&t.push(e.index+". "+e.title)}),t},options_group:function(){var t=[];return this.meta.map(function(e,n){-1!=["radio"].indexOf(e.type)&&t.push(e.index+". "+e.title)}),t}},methods:{commit:function(t,e){var n=this;this.result=null,axiosVisual.get("f_oneway/"+this.$route.params.qid,{params:{column_group:t,column_number:e}}).then(function(t){n.result=t.data}).catch(function(t){n.$message.error(t.response.data.error)})}}},hn=fn,vn=Object(l["a"])(hn,mn,pn,!1,null,"8e65d108",null),gn=vn.exports,bn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("交叉分析")]),n("div",[t.meta?n("div",[t.options.length>0?n("div",[n("div",[n("el-select",{staticClass:"analysis-item",attrs:{placeholder:"请选择行题目"},model:{value:t.index,callback:function(e){t.index=e},expression:"index"}},t._l(t.options,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),n("div",[n("el-select",{staticClass:"analysis-item",attrs:{placeholder:"请选择列题目"},model:{value:t.column,callback:function(e){t.column=e},expression:"column"}},t._l(t.options,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.commit(t.index,t.column)}}},[t._v("分析")])],1):t._e()]):n("div",[n("p",[t._v("没有可进行该高级分析功能的题目")])]),t.result?n("div",[t.result.chi2_contingency?n("div",[n("div",{staticClass:"analysis-item"},[n("p",[t._v("卡方检验结果")]),n("el-table",{attrs:{data:[t.result.chi2_contingency]}},[n("el-table-column",{attrs:{prop:"chi2",label:"测试统计值"}}),n("el-table-column",{attrs:{prop:"p",label:"P值"}}),n("el-table-column",{attrs:{prop:"dof",label:"自由度"}})],1)],1)]):t._e(),n("div",{staticClass:"analysis-item"},[n("p",[t._v("列联表层叠图")]),n("charts",{attrs:{options:JSON.parse(t.result.num_bar)}})],1),n("div",{staticClass:"analysis-item"},[n("p",[t._v("列联表")]),n("el-table",{attrs:{data:t.result.crosstab["data"]}},t._l(t.result.crosstab["schema"]["fields"],function(t){return n("el-table-column",{key:t["name"],attrs:{prop:t["name"],label:t["name"]}})}),1)],1)]):t._e()])])},_n=[],yn=n("396f"),xn=(n("ea65"),n("997e")),qn=n.n(xn),kn=(n("612f"),n("7ea1")),wn={props:{meta:Array},data:function(){return{index:"",column:"",result:null}},computed:{options:function(){var t=[];return this.meta.map(function(e,n){-1!=["radio","checkbox","sort"].indexOf(e.type)&&t.push(e.index+". "+e.title)}),t}},methods:{same_column:function(){this.result=null,this.$message({message:"不能选择同一个题目进行分析",type:"error"})},replaceKeys:function(t){var e=this;qn()(t).forEach(function(n){var a=n.split(" "),s=a[a.length-1];t[n]&&"object"===Object(yn["a"])(t[n])&&e.replaceKeys(t[n]),n!==s&&(t[s]=t[n],delete t[n])})},commit:function(t,e){var n=this;this.result=null,t===e?this.same_column():axiosVisual.get("cross_analysis/"+this.$route.params.qid,{params:{index:t,column:e}}).then(function(t){n.result=t.data;var e=JSON.parse(n.result.crosstab);n.replaceKeys(e),n.result.crosstab=e;var a=n.result.crosstab.schema.fields;a=a.map(function(t){var e=t.name.split(" ");return t.name=e[e.length-1],t})}).catch(function(t){n.$message.error(t.response.data.error)})}},components:{charts:kn["a"]}},Cn=wn,Ln=Object(l["a"])(Cn,bn,_n,!1,null,"554cda1a",null),Qn=Ln.exports,$n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("回归分析")]),n("div",[t.meta?n("div",[t.options_x.length>0&&t.options_y.length>0?n("div",[n("div",[n("el-select",{attrs:{multiple:"",placeholder:"请选择自变量题目"},model:{value:t.columnx_list,callback:function(e){t.columnx_list=e},expression:"columnx_list"}},t._l(t.options_x,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),n("div",[n("el-select",{attrs:{placeholder:"请选择因变量题目"},model:{value:t.columny,callback:function(e){t.columny=e},expression:"columny"}},t._l(t.options_y,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.commit(t.columnx_list,t.columny)}}},[t._v("分析")])],1):t._e()]):n("div",[n("p",[t._v("没有可进行该高级分析功能的题目")])]),t.result?n("div",[n("div",[n("p",[t._v("模型摘要")]),n("el-table",{attrs:{border:"",data:t.result.summary}},[n("el-table-column",{attrs:{prop:"type",label:"类型"}}),n("el-table-column",{attrs:{prop:"value",label:"值"}})],1)],1),n("div",[n("p",[t._v("回归系数检验")]),n("el-table",{attrs:{border:"",data:t.result.coeff}},t._l(Object.keys(t.result.coeff[0]),function(t){return n("el-table-column",{key:t,attrs:{prop:t,label:t}})}),1)],1)]):t._e()])])},On=[],jn={props:{meta:Array},data:function(){return{columnx_list:[],columny:"",result:null,explanation:{DW:"Durbin-Waston检验量",condition_number:"条件数",f_pvalue:"回归方程整体显著性p值",fvalue:"回归方程整体显著性检验统计量",rsquared:"拟合优度R",rsquared_adj:"调整后拟合优度",params:"回归系数",pvalues:"回归系数显著性p值",tvalues:"回归系数显著性检验统计量"}}},computed:{options_x:function(){var t=[];return this.meta.map(function(e,n){-1!=["radio","scale","rate","numInput"].indexOf(e.type)&&t.push(e.index+". "+e.title)}),t},options_y:function(){var t=[];return this.meta.map(function(e,n){-1!=["scale","rate","numInput"].indexOf(e.type)&&t.push(e.index+". "+e.title)}),t}},methods:{include_column:function(){this.$message({message:"因变量不能出现在自变量列表中",type:"error"})},commit:function(t,e){var n=this;this.result=null;var a=this;if(console.log(a.explanation),t.length>0&&""!==e)if(-1!=t.indexOf(e))this.include_column();else{var s={};t.forEach(function(t,e){s["columnx"+(e+1)]=t}),s["columny"]=e,axiosVisual.get("regression_analysis/"+this.$route.params.qid,{params:s}).then(function(e){var s=e.data,i=qn()(s).filter(function(t){return"object"!==Object(yn["a"])(s[t])}).map(function(t){return{type:n.explanation[t],value:s[t]}}),r=t.map(function(t){return t});r.unshift("常数项");var o=r.map(function(t,e){var n;return n={factor:r[e]},Object(Gt["a"])(n,a.explanation.params,s.params[e]),Object(Gt["a"])(n,a.explanation.pvalues,s.pvalues[e]),Object(Gt["a"])(n,a.explanation.tvalues,s.tvalues[e]),n});n.result={summary:i,coeff:o},console.log(n.result)}).catch(function(t){n.$message.error(t.response.data.error)})}}},components:{charts:kn["a"]}},In=jn,Pn=Object(l["a"])(In,$n,On,!1,null,"4824a863",null),En=Pn.exports,Sn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("因子分析")]),n("div",[t.meta?n("div",[t.options.length>0?n("div",[n("p",[t._v("请选择进行因子分析的题目")]),n("div",[n("el-select",{attrs:{multiple:"",placeholder:"请选择题目"},model:{value:t.column_list,callback:function(e){t.column_list=e},expression:"column_list"}},t._l(t.options,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),n("div",[n("p",[t._v("因子数")]),n("el-input-number",{attrs:{min:1,max:t.column_list.length,label:"因子数"},model:{value:t.n_factor,callback:function(e){t.n_factor=e},expression:"n_factor"}})],1),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.commit(t.column_list,t.n_factor)}}},[t._v("分析")])],1):t._e()]):n("div",[n("p",[t._v("没有可进行该高级分析功能的题目")])]),t.result?n("div",[n("div",[n("p",[t._v("公因子方差")]),n("el-table",{attrs:{border:"",data:t.result.communalities}},[n("el-table-column",{attrs:{prop:"column",label:"指标"}}),n("el-table-column",{attrs:{prop:"extract",label:"提取率"}})],1)],1),n("div",[n("p",[t._v("成分矩阵")]),n("el-table",{attrs:{border:"",data:t.result.component_matrix}},t._l(Object.keys(t.result.component_matrix[0]),function(t){return n("el-table-column",{key:t,attrs:{prop:t,label:t}})}),1)],1),n("div",[n("p",[t._v("解释的总方差")]),n("el-table",{attrs:{border:"",data:t.result.factor_variance}},t._l(Object.keys(t.result.factor_variance[0]),function(t){return n("el-table-column",{key:t,attrs:{prop:t,label:t}})}),1)],1)]):t._e()])])},Fn=[],Un={props:{meta:Array},data:function(){return{column_list:[],n_factor:null,result:null}},computed:{options:function(){var t=[];return this.meta.map(function(e,n){-1!=["radio","numInput","scale","rate"].indexOf(e.type)&&t.push(e.index+". "+e.title)}),t}},methods:{transpose:function(t){return t[0].map(function(e,n){return t.map(function(t){return t[n]})})},commit:function(t,e){var n=this;if(this.result=null,t.length>0){var a={};t.forEach(function(t,e){a["columnx"+(e+1)]=t}),a["n_factor"]=e,axiosVisual.get("factor_analysis/"+this.$route.params.qid,{params:a}).then(function(e){var a=e.data,s=a.communalities.map(function(e,n){return{column:t[n],extract:e}}),i=a.component_matrix.map(function(e,n){var a={};return a["指标"]=t[n],a=e.reduce(function(t,e,n){return Object(Y["a"])({},t,Object(Gt["a"])({},"因子"+(n+1),e))},a),a}),r=n.transpose(a.factor_variance),o=r.map(function(t){return{"初始特征值":t[0],"方差":t[1],"累计方差":t[2]}});n.result={communalities:s,component_matrix:i,factor_variance:o}}).catch(function(t){n.$message.error(t.response.data.error)})}}},components:{charts:kn["a"]}},Tn=Un,An=Object(l["a"])(Tn,Sn,Fn,!1,null,"3d308072",null),Nn=An.exports,Rn={data:function(){return{meta:null}},created:function(){var t=this;axiosVisual.get("survey/"+this.$route.params.qid).then(function(e){t.meta=e.data.meta}).catch(function(e){t.$message.error(e.response.data.error)})},components:{ttest1samp:Re,ttestind:Je,mannwhitneyu:Ye,ttestrel:sn,normaltest:dn,foneway:gn,"cross-analysis":Qn,"regression-analysis":En,"factor-analysis":Nn}},Mn=Rn,Vn=(n("904d"),Object(l["a"])(Mn,Ee,Se,!1,null,"289f0f1b",null)),zn=Vn.exports;s["default"].use(m["a"]);var Bn,Dn,Jn=new m["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:I},{path:"/user",component:T,children:[{path:"/",name:"user",redirect:{name:"user.manage"}},{path:"info",name:"user.info",component:nt},{path:"changePwd",name:"user.changePwd",component:function(){return n.e("chunk-75f5ac35").then(n.bind(null,"40a5"))}},{path:"manage",name:"user.manage",component:Mt},{path:"createQuestionnaire",name:"createQuestionnaire",component:Zt}]},{path:"/sign",name:"sign",component:I},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/preview",name:"preview",component:kt},{path:"/survey/:qid",name:"survey",component:Ot},{path:"/answerSuccess",name:"AnswerSuccess",component:function(){return n.e("chunk-d5fe847e").then(n.bind(null,"82bf"))}},{path:"/findPwd",name:"findPwd",component:K},{path:"/questionEdit/:qid",name:"questionEdit",component:ne},{path:"/releaseQuestionnaire/:qid",name:"releaseQuestionnaire",component:ue},{path:"/testFix",name:"testFix",component:fe},{path:"/report/:qid",component:ye,children:[{path:"/",name:"report",component:ye,redirect:{name:"report.analysis"}},{path:"analysis",name:"report.analysis",component:Pe},{path:"adv-analysis",name:"report.adv-analysis",component:zn}]},{path:"/error",name:"error",component:function(){return n.e("chunk-28191d1c").then(n.bind(null,"dda8"))}}]}),Zn=n("50c1"),Wn={namespaced:!0,state:{pageManage:{isClick:!1,addJumpLogicIsClick:!1,iconMinusIsClick:!1},userQuestionList:{userId:"5d03933f0c34420825f479ed",id:"5cfd22309a9f101ca60a5686",state:!1,name:"问卷标题",comment:"问卷头部说明",endComment:"您已完成本次问卷，感谢您的帮助与支持！",numLimit:0,beginTime:"Sun May 05 2019 23:52:45 GMT+0800 (中国标准时间)",endTime:"Tue Jun 04 2019 23:52:45 GMT+0800 (中国标准时间)",pagination:{isPagination:!1,totalPage:0},totalQuestionNum:0,questionList:[{type:"radio",index:1,currentPage:2,title:"单选题",isRequired:!0,content:{options:["item1","item2"],max:5,min:1},jumpLogic:[{startValue:"1.北京",endValue:"Q1.xxxxxx"}]}]}},mutations:(Bn={},Object(Gt["a"])(Bn,g["l"],function(t,e){"all"==e.type?t.pageManage=e.pageManage:t.pageManage[e.type]=e.boolean}),Object(Gt["a"])(Bn,g["w"],function(t,e){t.userQuestionList.userID=e}),Object(Gt["a"])(Bn,g["t"],function(t,e){t.userQuestionList.state=e}),Object(Gt["a"])(Bn,g["p"],function(t,e){t.userQuestionList.id=e}),Object(Gt["a"])(Bn,g["s"],function(t,e){t.userQuestionList.name=e}),Object(Gt["a"])(Bn,g["r"],function(t,e){t.userQuestionList.comment=e}),Object(Gt["a"])(Bn,g["q"],function(t,e){t.userQuestionList.endComment=e}),Object(Gt["a"])(Bn,g["v"],function(t,e){t.userQuestionList.totalQuestionNum=e}),Object(Gt["a"])(Bn,g["x"],function(t,e){t.userQuestionList=e}),Object(Gt["a"])(Bn,g["f"],function(t,e){t.userQuestionList.beginTime=e[0],t.userQuestionList.endTime=e[1]}),Object(Gt["a"])(Bn,g["k"],function(t,e){t.userQuestionList.numLimit=e}),Object(Gt["a"])(Bn,g["o"],function(t,e){t.userQuestionList.questionList=e}),Object(Gt["a"])(Bn,g["j"],function(t,e){t.userQuestionList.questionList[e.qIndex].jumpLogic=e.jumpLogic}),Object(Gt["a"])(Bn,g["a"],function(t,e){t.userQuestionList.questionList.push(e)}),Object(Gt["a"])(Bn,g["d"],function(t,e){t.userQuestionList.questionList.splice(e,1)}),Object(Gt["a"])(Bn,g["A"],function(t,e){t.userQuestionList.questionList=e}),Object(Gt["a"])(Bn,g["b"],function(t,e){t.userQuestionList.questionList[e].content.options.push("选项")}),Object(Gt["a"])(Bn,g["e"],function(t,e){t.userQuestionList.questionList[e.qIndex].content.options.splice(e.iIndex,1)}),Object(Gt["a"])(Bn,g["c"],function(t,e){var n=t.userQuestionList.questionList;"title"==e.type&&(n[e.index][e.type]=e.content),"options"==e.type&&(n[e.QIndex].content[e.type][e.iIndex]=e.iString),"max"==e.type&&(n[e.QIndex].content[e.type]=e.maxScore),t.userQuestionList.questionList=n}),Object(Gt["a"])(Bn,g["h"],function(t,e){t.userQuestionList.pagination.isPagination=e}),Object(Gt["a"])(Bn,g["u"],function(t,e){t.userQuestionList.pagination.totalPage=e}),Object(Gt["a"])(Bn,g["i"],function(t,e){t.userQuestionList.questionList[e.qIndex].isRequired=e.isRequired}),Bn),actions:{update:function(t,e){t.commit("update_questionList",e)}},getters:{userQuestionList:function(t){return t.userQuestionList},pageManage:function(t){return t.pageManage},q_userID:function(t){return t.userQuestionList.userID},q_state:function(t){return t.userQuestionList.state},questionnaireId:function(t){return t.userQuestionList.id},questionnaireTitle:function(t){return t.userQuestionList.name},introContents:function(t){return t.userQuestionList.comment},endContents:function(t){return t.userQuestionList.endComment},beginTime:function(t){return t.userQuestionList.beginTime},endTime:function(t){return t.userQuestionList.endTime},numLimit:function(t){return t.userQuestionList.numLimit},questionList:function(t){return t.userQuestionList.questionList},isPagination:function(t){return t.userQuestionList.pagination.isPagination},totalPage:function(t){return t.userQuestionList.pagination.totalPage},totalQuestionNum:function(t){return t.userQuestionList.totalQuestionNum}}},Kn=n("64f3"),Gn=n.n(Kn),Hn={namespaced:!0,state:{valueType:{radio:0,checkbox:[],textarea:"",scale:0,rate:0,sort:[],textInput:"",numInput:0},submitFlag:!1,userQuestionList:{name:"my first questionnaire",id:123456,pagination:{isPagination:!1,totalPage:0},questionList:[{type:"radio",index:1,title:"题目1",isRequired:!0,content:{options:["ans1","ans2","ans3","ans4"]},jumpLogic:[{startValue:0,endValue:5},{startValue:1,endValue:3}]},{type:"checkbox",index:2,title:"题目2",isRequired:!1,content:{options:["ans1","ans2","ans3","ans4"]}},{type:"textarea",index:3,title:"题目3",isRequired:!0,content:{}},{type:"scale",index:4,title:"题目4",isRequired:!0,content:{max:5,min:1}},{type:"rate",index:5,title:"题目5",isRequired:!0,content:{max:5}},{type:"description",index:0,title:"段落描述"},{type:"sort",index:6,isRequired:!1,title:"排序题",content:{options:["ans1","ans2","ans3","ans4"]}},{type:"textInput",index:7,title:"文字输入题",isRequired:!1},{type:"numInput",index:8,title:"数字输入题",isRequired:!1}]},answerSheet:{quesId:0,answer:[]}},getters:{surveyQuestionnaire:function(t){return t.userQuestionList},answerSheet:function(t){return t.answerSheet},getContentByIndex:function(t){return function(e){return t.answerSheet.answer[e-1]["data"]}}},mutations:{setQuestionnaire:function(t,e){t.userQuestionList=e.questionnaire,this.commit("survey/prepareQuestionList"),this.commit("survey/generateAnswerSheet")},prepareQuestionList:function(t){t.userQuestionList.questionList.forEach(function(t){s["default"].set(t,"isShow",!0)})},generateAnswerSheet:function(t){t.answerSheet={quesId:t.userQuestionList.questionnaireId,answer:[]},t.userQuestionList.questionList.forEach(function(e){if("description"!==e.type&&"pagination"!==e.type){var n={type:e.type,data:t["valueType"][e.type]};t.answerSheet.answer.push(n)}})},updateValue:function(t,e){e.value&&t.answerSheet.answer[e.qindex-1]&&(t.answerSheet.answer[e.qindex-1]["data"]=e.value)},jumpQestion:function(t,e){var n=lt()(e.startIndex),a=e.jumpLogic,s=lt()(e.option);if(s){var i=-1;a[s-1]&&(i=lt()(a[s-1].endValue));var r=0;a.forEach(function(t){r<t.endValue&&(r=t.endValue)});var o=t.userQuestionList.questionList,u=n-1>=0?n-1:0;while(o[u].index<=r)o[u].index>n&&o[u].index<i?t.userQuestionList.questionList[u].isShow=!1:t.userQuestionList.questionList[u].isShow=!0,u++}},submitAnswerSheet:function(t,e){var n=e.qid;this.commit("survey/checkRequiredQuestion"),t.submitFlag?(this.commit("survey/prepareAnswerToSubmit"),axios.post("/answerSheet/save?qid="+n,t.answerSheet).then(function(t){console.log("submit success!!!"),console.log(t),Jn.push({name:"AnswerSuccess"})}).catch(function(t){console.log(t)})):Gn.a.Message({showClose:!0,message:"您有必做题还未填！",type:"error"})},checkRequiredQuestion:function(t){t.submitFlag=!0;var e=t.answerSheet.answer;t.userQuestionList.questionList.forEach(function(n){if(!(n.index<=0)&&n.isRequired&&n.isShow){var a=e[n.index-1]["data"],s=n.type;("textarea"===s&&" "===a||"sort"===s&&a===[])&&(t.submitFlag=!1),null!==a&&0!==a&&a!==[]&&" "!==a||(t.submitFlag=!1)}})},prepareAnswerToSubmit:function(t){var e=t.answerSheet.answer;t.userQuestionList.questionList.forEach(function(t){if(!(t.index<=0)){var n=e[t.index-1]["data"];t.isShow?null!==n&&0!==n&&" "!==n&&n!==[]&&0!==n.length||(e[t.index-1]["data"]=null):n=-3}})}},actions:{setQuestionnaire:function(t,e){t.commit("setQuestionnaire",e)},generateAnsSheet:function(t){t.commit("generateAnswerSheet")},jumpQuestion:function(t,e){t.commit("jumpQestion",e)},updateValue:function(t,e){t.commit("updateValue",e)},submitAnswerSheet:function(t,e){t.commit("submitAnswerSheet",e)}}},Yn={state:{userId:null,token:null,name:""},mutations:(Dn={},Object(Gt["a"])(Dn,g["y"],function(t,e){console.log(e),t.token=e.token,t.userId=e.userId,t.name=e.name}),Object(Gt["a"])(Dn,g["z"],function(t){t.token=null,t.userId=null,t.name=null}),Dn)};s["default"].use(it["a"]);var Xn=new it["a"].Store({plugins:[Object(Zn["a"])()],getters:void 0,modules:{questionnaire:Wn,survey:Hn,user:Yn}});n("c69f");s["default"].use(Gn.a);var ta=n("c626");s["default"].component(ta["a"].name,ta["a"]);var ea=n("e1a6"),na=n("44aa"),aa=n("2f02");ea["c"].add(na["a"]),s["default"].component("font-awesome-icon",aa["a"]),s["default"].component("font-awesome-layers",aa["b"]),s["default"].component("font-awesome-layers-text",aa["c"]);var sa,ia=n("617f"),ra=n.n(ia),oa=(n("f91a"),n("3f46")),ua=n.n(oa),la=n("2427"),ca=n.n(la),da=n("d4d8"),ma=n.n(da),pa=new it["a"].Store({plugins:[Object(Zn["a"])()],modules:{survey:Hn},state:{userId:null,token:null,userQuestionList:{questionnaireTitle:"",introContents:"",questionList:[],endContents:""}},mutations:(sa={},Object(Gt["a"])(sa,g["y"],function(t,e){t.token=e.token,t.userId=e.userId,t.name=e.name}),Object(Gt["a"])(sa,g["z"],function(t){t.token=null,t.userId=null,t.name=null}),Object(Gt["a"])(sa,g["SET_INTROCONTENTS"],function(t,e){t.userQuestionList.introContents=e}),Object(Gt["a"])(sa,g["SET_QUESTIONAIRETITLE"],function(t,e){t.userQuestionList.questionnaireTitle=e}),Object(Gt["a"])(sa,g["SET_QUESTIONAIREEND"],function(t,e){t.userQuestionList.endContents=e}),sa),actions:{},getters:{introContents:function(t){return t.userQuestionList.introContents}}}),fa={baseURL:"http://47.103.9.83:8080",timeout:5e3},ha={baseURL:"http://47.103.9.83:4000",timeout:5e3},va=ca.a.create(fa),ga=ca.a.create(ha);va.interceptors.request.use(function(t){return pa.state.token&&(t.headers.Authorization="token ".concat(pa.state.token)),t},function(t){return ua.a.reject(t)}),va.interceptors.response.use(function(t){return t},function(t){if(t.response)switch(t.response.status){case 401:pa.commit(g["z"]),"sign"!==Jn.currentRoute.path&&Jn.replace({path:"sign",query:{redirect:Jn.currentRoute.path}})}return ua.a.reject(t)}),Plugin.install=function(t){t.axios=va,window.axios=va,t.axiosVisual=ga,window.axiosVisual=ga,ra()(t.prototype,{axios:{get:function(){return va}},$axios:{get:function(){return va}},axiosVisual:{get:function(){return ga}},$axiosVisual:{get:function(){return ga}}})},s["default"].use(Plugin,ma.a);var ba=Plugin;n("9918"),n("6685");new s["default"]({router:Jn,store:Xn,axios:ba,render:function(t){return t(d)}}).$mount("#app")},"5b5e":function(t,e,n){"use strict";var a=n("3454"),s=n.n(a);s.a},"64a6":function(t,e,n){"use strict";var a=n("f3fa"),s=n.n(a);s.a},6685:function(t,e,n){},6713:function(t,e,n){},"6e87":function(t,e,n){"use strict";n.d(e,"y",function(){return a}),n.d(e,"z",function(){return s}),n.d(e,"w",function(){return i}),n.d(e,"l",function(){return r}),n.d(e,"x",function(){return o}),n.d(e,"p",function(){return u}),n.d(e,"t",function(){return l}),n.d(e,"f",function(){return c}),n.d(e,"k",function(){return d}),n.d(e,"v",function(){return m}),n.d(e,"s",function(){return p}),n.d(e,"r",function(){return f}),n.d(e,"q",function(){return h}),n.d(e,"o",function(){return v}),n.d(e,"a",function(){return g}),n.d(e,"A",function(){return b}),n.d(e,"d",function(){return _}),n.d(e,"c",function(){return y}),n.d(e,"b",function(){return x}),n.d(e,"e",function(){return q}),n.d(e,"i",function(){return k}),n.d(e,"h",function(){return w}),n.d(e,"u",function(){return C}),n.d(e,"j",function(){return L});var a="signin",s="signout",i="set_userID",r="set_pageManage",o="set_userQuestionList",u="set_questionnaireId",l="set_state",c="set_begin_end_time",d="set_numLimit",m="set_totalQuestionNum",p="set_questionnaire_title",f="set_questionnaire_intro",h="set_end_contents",v="set_questionList",g="add_questionList_object",b="update_questionList",_="delete_questionList_object",y="change_questionList_value",x="add_question_option_item",q="delete_question_option_item",k="set_isRequired",w="set_isPagination",C="set_totalPage",L="set_jumpLogic"},"6f93":function(t,e,n){"use strict";var a=n("0974"),s=n.n(a);s.a},7213:function(t,e,n){},"788c":function(t,e,n){},"79bc":function(t,e,n){"use strict";var a=n("2f83"),s=n.n(a);s.a},"7ea1":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"chart"})},s=[],i=n("24ce"),r=n.n(i);n("54bc");var o={props:{options:Object},mounted:function(){var t=r.a.init(this.$refs.chart);t.setOption(this.options),window.onresize=function(){t.resize()}}},u=o,l=(n("8b92"),n("17cc")),c=Object(l["a"])(u,a,s,!1,null,"87fc48d4",null);e["a"]=c.exports},"880e":function(t,e,n){"use strict";var a=n("aae2"),s=n.n(a);s.a},8946:function(t,e,n){},"8b92":function(t,e,n){"use strict";var a=n("7213"),s=n.n(a);s.a},"904d":function(t,e,n){"use strict";var a=n("21b8"),s=n.n(a);s.a},9918:function(t,e,n){},"9a85":function(t,e,n){},"9e74":function(t,e,n){},a4f0:function(t,e,n){"use strict";var a=n("b4aa"),s=n.n(a);s.a},aae2:function(t,e,n){},ab6b:function(t,e,n){},abc1:function(t,e,n){},b432:function(t,e,n){"use strict";var a=n("41ce"),s=n.n(a);s.a},b4aa:function(t,e,n){},c51f:function(t,e,n){"use strict";var a=n("09dd"),s=n.n(a);s.a},c640:function(t,e,n){"use strict";var a=n("9a85"),s=n.n(a);s.a},c69f:function(t,e,n){},cbea:function(t,e,n){"use strict";var a=n("ab6b"),s=n.n(a);s.a},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},d024:function(t,e,n){"use strict";var a=n("abc1"),s=n.n(a);s.a},d64e:function(t,e,n){t.exports=n.p+"img/user-logo.bd49000e.jpg"},da3d:function(t,e,n){},e63d:function(t,e,n){"use strict";var a=n("19a2"),s=n.n(a);s.a},e695:function(t,e,n){},f3fa:function(t,e,n){},f5d9:function(t,e,n){"use strict";var a=n("4b47"),s=n.n(a);s.a}});
//# sourceMappingURL=app.972fa29f.js.map